<!DOCTYPE html>




<html class="theme-next tumo" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.1">








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/tumo.css" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <meta name="keywords" content="java,">










<meta name="description" content="JavaåŸºç¡€JDKå’ŒJREåŒºåˆ«ï¼Ÿ jreå³Java Runtime Environmentï¼ŒJavaè¿è¡Œç¯å¢ƒã€‚åŒ…æ‹¬Javaè™šæ‹Ÿæœºå’ŒJavaç±»åº“ jdkæ˜¯Javaå¼€å‘å·¥å…·åŒ…ï¼Œä¾‹å¦‚ï¼štools.jar  == å’Œ equals åŒºåˆ« ==æ˜¯ä¸€ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦ï¼Œå¯¹äºåŸºæœ¬ç±»å‹ï¼Œæ¯”è¾ƒçš„æ˜¯å…·ä½“çš„æ•°å€¼(intã€double..)ï¼›å¯¹äºå¼•ç”¨ç±»å‹ï¼Œæ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€  equalsæ˜¯è¶…ç±»Objectå°±å…·æœ‰çš„æ–¹æ³•ï¼Œå› ">
<meta name="keywords" content="java">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaåŸºç¡€çŸ¥è¯†ç‚¹å›é¡¾">
<meta property="og:url" content="http://www.tycoding.cn/2019/06/24/ready/javase/index.html">
<meta property="og:site_name" content="TyCoding&#39;s Blog">
<meta property="og:description" content="JavaåŸºç¡€JDKå’ŒJREåŒºåˆ«ï¼Ÿ jreå³Java Runtime Environmentï¼ŒJavaè¿è¡Œç¯å¢ƒã€‚åŒ…æ‹¬Javaè™šæ‹Ÿæœºå’ŒJavaç±»åº“ jdkæ˜¯Javaå¼€å‘å·¥å…·åŒ…ï¼Œä¾‹å¦‚ï¼štools.jar  == å’Œ equals åŒºåˆ« ==æ˜¯ä¸€ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦ï¼Œå¯¹äºåŸºæœ¬ç±»å‹ï¼Œæ¯”è¾ƒçš„æ˜¯å…·ä½“çš„æ•°å€¼(intã€double..)ï¼›å¯¹äºå¼•ç”¨ç±»å‹ï¼Œæ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€  equalsæ˜¯è¶…ç±»Objectå°±å…·æœ‰çš„æ–¹æ³•ï¼Œå› ">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://cdn.tycoding.cn/20180127210359151.png">
<meta property="og:image" content="http://cdn.tycoding.cn/1120165-20171207161602113-1451349858.png">
<meta property="og:image" content="http://cdn.tycoding.cn/1120165-20171207162758425-142549066.png">
<meta property="og:image" content="http://cdn.tycoding.cn/1120165-20171207162815925-341262498.png">
<meta property="og:image" content="http://cdn.tycoding.cn/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8.png">
<meta property="og:image" content="http://cdn.tycoding.cn/%E5%8F%8C%E5%90%91%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8.png">
<meta property="og:image" content="http://cdn.tycoding.cn/8db4a3bdfb238da1a1c4431d2b6e075c_hd.png">
<meta property="og:image" content="http://cdn.tycoding.cn/JDK1.8%E4%B9%8B%E5%90%8E%E7%9A%84HashMap%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.jpg">
<meta property="og:image" content="http://cdn.tycoding.cn/QQ20190623-181246.png">
<meta property="og:image" content="http://cdn.tycoding.cn/QQ20190623-181259.png">
<meta property="og:image" content="https://www.tycoding.cn/2019/05/09/jvm/jvm-start/QQ20190503-095731.png">
<meta property="og:image" content="http://cdn.tycoding.cn/Java+%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81%E5%8F%98%E8%BF%81.png">
<meta property="og:image" content="http://cdn.tycoding.cn/2019-4%E6%AD%BB%E9%94%811.png">
<meta property="og:updated_time" content="2019-12-15T23:19:58.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaåŸºç¡€çŸ¥è¯†ç‚¹å›é¡¾">
<meta name="twitter:description" content="JavaåŸºç¡€JDKå’ŒJREåŒºåˆ«ï¼Ÿ jreå³Java Runtime Environmentï¼ŒJavaè¿è¡Œç¯å¢ƒã€‚åŒ…æ‹¬Javaè™šæ‹Ÿæœºå’ŒJavaç±»åº“ jdkæ˜¯Javaå¼€å‘å·¥å…·åŒ…ï¼Œä¾‹å¦‚ï¼štools.jar  == å’Œ equals åŒºåˆ« ==æ˜¯ä¸€ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦ï¼Œå¯¹äºåŸºæœ¬ç±»å‹ï¼Œæ¯”è¾ƒçš„æ˜¯å…·ä½“çš„æ•°å€¼(intã€double..)ï¼›å¯¹äºå¼•ç”¨ç±»å‹ï¼Œæ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€  equalsæ˜¯è¶…ç±»Objectå°±å…·æœ‰çš„æ–¹æ³•ï¼Œå› ">
<meta name="twitter:image" content="http://cdn.tycoding.cn/20180127210359151.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Tumo',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.tycoding.cn/2019/06/24/ready/javase/">





  <title>JavaåŸºç¡€çŸ¥è¯†ç‚¹å›é¡¾ | TyCoding's Blog</title>
  









  <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?fd6f88c80cfe71fa4943c52397fc01cd";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</head>

<body itemscope itemtype="http://schema.org/WebPage" style="overflow-x:hidden;padding-right:320px" lang="en">

  <style>@media (min-width:768px) and (max-width:991px){body .header-innerr{width:700px!important}}.header-innerr{margin:0 auto;padding:100px 0 70px;width:880px}@media (min-width:1600px){.container .header-innerr{width:1200px}}.header-innerr{position:relative}.header-innerr{padding:20px 0 0}.header-innerr:after,.header-innerr:before{content:" ";display:table}.header-innerr:after{clear:both}@media (max-width:767px){.header-innerr{width:auto;padding:10px;margin-bottom:-20px}}</style>

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    
    

    <link href="/lib/font-awesome/css/font-merienda.css?v=4.6.2" rel="stylesheet" type="text/css">

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title" style="font-family:Merienda;font-size:1.3rem">TyCoding's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ç”Ÿæ´»çš„æ´ªæµè®©äººä»¬çª’æ¯ï¼Œæˆ‘ä»¬å´åœ¨ç¼ºæ°§çš„ç¯å¢ƒä¸­è‚†æ„æˆé•¿</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">

  
    <ul id="menu" class="menu">
      
        
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            HOME
          </a>
        </li>
      
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            ARCHIVES
          </a>
        </li>
      
        
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            ABOUT
          </a>
        </li>
      
        
        
        <li class="menu-item menu-item-links">
          <a href="/links/" rel="section">
            LINKS
          </a>
        </li>
      

    </ul>
  

</nav>



 </div>

      <div class="header-innerr">
        
          <div class="note info" style="margin:0;letter-spacing:.15px">
            ğŸ¤SpringCloudåˆ†å¸ƒå¼é¡¹ç›®è„šæ‰‹æ¶ï¼š
            <a style="color:#40dab2;font-weight:600" href="https://github.com/TyCoding/cloud-template" target="_blank" class="animsition-link">
              https://github.com/TyCoding/cloud-template
            </a>
          </div>
        
      </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  
  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.tycoding.cn/2019/06/24/ready/javase/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TyCoding">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TyCoding's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JavaåŸºç¡€çŸ¥è¯†ç‚¹å›é¡¾</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-06-24T11:13:52+08:00">
                2019-06-24
              </time>
            
          </span>

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="JavaåŸºç¡€"><a href="#JavaåŸºç¡€" class="headerlink" title="JavaåŸºç¡€"></a>JavaåŸºç¡€</h1><h2 id="JDKå’ŒJREåŒºåˆ«ï¼Ÿ"><a href="#JDKå’ŒJREåŒºåˆ«ï¼Ÿ" class="headerlink" title="JDKå’ŒJREåŒºåˆ«ï¼Ÿ"></a>JDKå’ŒJREåŒºåˆ«ï¼Ÿ</h2><ol>
<li><code>jre</code>å³Java Runtime Environmentï¼ŒJavaè¿è¡Œç¯å¢ƒã€‚åŒ…æ‹¬Javaè™šæ‹Ÿæœºå’ŒJavaç±»åº“</li>
<li><code>jdk</code>æ˜¯Javaå¼€å‘<strong>å·¥å…·åŒ…</strong>ï¼Œä¾‹å¦‚ï¼š<code>tools.jar</code></li>
</ol>
<h2 id="å’Œ-equals-åŒºåˆ«"><a href="#å’Œ-equals-åŒºåˆ«" class="headerlink" title="== å’Œ equals åŒºåˆ«"></a>== å’Œ equals åŒºåˆ«</h2><ol>
<li><p><code>==</code>æ˜¯ä¸€ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦ï¼Œå¯¹äºåŸºæœ¬ç±»å‹ï¼Œæ¯”è¾ƒçš„æ˜¯å…·ä½“çš„æ•°å€¼(intã€double..)ï¼›å¯¹äºå¼•ç”¨ç±»å‹ï¼Œæ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€</p>
</li>
<li><p><code>equals</code>æ˜¯è¶…ç±»<code>Object</code>å°±å…·æœ‰çš„æ–¹æ³•ï¼Œå› æ­¤æ‰€æœ‰çš„å¼•ç”¨ç±»å‹éƒ½å…·æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œåªç”¨ç”¨æ¥æ¯”è¾ƒå¼•ç”¨æ•°æ®ç±»å‹ã€‚<code>equals</code>æ–¹æ³•é»˜è®¤æ¯”è¾ƒçš„å¯¹è±¡å†…å­˜åœ°å€ï¼Œå¦‚æœé‡å†™è¯¥æ–¹æ³•ï¼Œä¸€èˆ¬æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å±æ€§å€¼ã€‚</p>
<a id="more"></a>

<p><code>Object</code>ç±»<code>equals</code>æ–¹æ³•æºç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">this</span> == obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>new</code>å¯¹è±¡æ˜¯åœ¨å †å†…å­˜ä¸­å¼€è¾Ÿä¸€ä»½ç©ºé—´ï¼Œæ‰€ä»¥å…¶å¼•ç”¨å˜é‡å°±æ˜¯æŒ‡å‘äº†å †å†…å­˜çš„åœ°å€ï¼Œæ —å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EqualsTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        User a = <span class="keyword">new</span> User();</span><br><span class="line">        User b = <span class="keyword">new</span> User();</span><br><span class="line">        System.out.println(a == b); <span class="comment">//false</span></span><br><span class="line">        System.out.println(a.equals(b)); <span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> User)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        User user = (User) o;</span><br><span class="line">        <span class="keyword">return</span> age == user.age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="ä¸¤ä¸ªå¯¹è±¡çš„hashCode-ç›¸åŒï¼Œåˆ™equals-ä¸€å®šä¸ºtrueï¼Ÿ"><a href="#ä¸¤ä¸ªå¯¹è±¡çš„hashCode-ç›¸åŒï¼Œåˆ™equals-ä¸€å®šä¸ºtrueï¼Ÿ" class="headerlink" title="ä¸¤ä¸ªå¯¹è±¡çš„hashCode()ç›¸åŒï¼Œåˆ™equals()ä¸€å®šä¸ºtrueï¼Ÿ"></a>ä¸¤ä¸ªå¯¹è±¡çš„hashCode()ç›¸åŒï¼Œåˆ™equals()ä¸€å®šä¸ºtrueï¼Ÿ</h2><ul>
<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰(<code>equals()</code>ä¸ºtrue)ï¼Œé‚£ä¹ˆä»–ä»¬çš„<code>hashCode()</code>ä¸€å®šç›¸åŒ</li>
<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡çš„<code>hashCode()</code>ç›¸åŒï¼Œä»–ä»¬çš„<code>equals()</code>æ–¹æ³•ä¸ä¸€å®šç›¸åŒ</li>
</ul>
<p>JVMè™šæ‹Ÿæœºé€šè¿‡<code>hashCode()</code>æ–¹æ³•ä¸ºObjectå¯¹è±¡åˆ†é…ä¸€ä¸ªintç±»å‹æ•°å€¼ï¼Œä»¥æ­¤æ¥æé«˜Javaä¸­é›†åˆå¯¹è±¡(Mapã€HashMapâ€¦)ä¸­å¯¹è±¡å­˜å‚¨çš„æ•ˆç‡ã€‚å½“é›†åˆä¸­éœ€è¦æ·»åŠ æ–°å…ƒç´ ï¼Œé¦–å…ˆé€šè¿‡<code>hashCode()</code>è·å–è¯¥å¯¹è±¡å¯¹åº”çš„åœ°å€ä½ç½®ï¼Œå¦‚æœè¯¥ä½ç½®ä¸Šæ²¡æœ‰å€¼å°±ç›´æ¥å‚¨å­˜åˆ°è¯¥ä½ç½®ï¼Œå¦‚æœæœ‰å€¼å°±å†è°ƒç”¨<code>equals()</code>ä¸æ–°å…ƒç´ çš„å€¼æ¯”è¾ƒï¼Œç›¸åŒå°±ä¸å†å‚¨å­˜å¦åˆ™å°±æ•£åˆ—åˆ°å…¶ä»–ä½ç½®ï¼Œå¤§å¤§å‡å°‘äº†è°ƒç”¨<code>equals()</code>æ–¹æ³•æ¯”è¾ƒçš„æ¬¡æ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EqualsTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        User a = <span class="keyword">new</span> User();</span><br><span class="line">        User b = <span class="keyword">new</span> User();</span><br><span class="line">        System.out.println(a == b); <span class="comment">//false</span></span><br><span class="line">        System.out.println(a.equals(b)); <span class="comment">//false</span></span><br><span class="line">        System.out.println(a.hashCode() == b.hashCode()); <span class="comment">//false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="final-çš„ä½œç”¨"><a href="#final-çš„ä½œç”¨" class="headerlink" title="final çš„ä½œç”¨"></a>final çš„ä½œç”¨</h2><p>å¯ä¿®é¥°ç±»ã€ç±»å±æ€§ã€ç±»æ–¹æ³•ã€‚</p>
<ol>
<li><p>è¢«<code>final</code>ä¿®é¥°çš„ç±»ä¸èƒ½è¢«ç»§æ‰¿</p>
</li>
<li><p><code>final</code>ä¿®é¥°çš„ç±»å±æ€§å¯ä»¥æ˜¯åŸºæœ¬ç±»å‹ä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹ï¼Œå¦‚æœæ˜¯åŸºæœ¬ç±»å‹å°±ä¸èƒ½å†è¢«èµ‹å€¼ï¼›å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œå°±ä¸èƒ½å†æŒ‡å‘å…¶ä»–å¼•ç”¨åœ°å€ï¼Œä½†å¯¹è±¡æœ¬èº«æ˜¯å¯ä»¥æ”¹å˜çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FinalTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> User USER = <span class="keyword">new</span> User();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        User u2 = <span class="keyword">new</span> User();</span><br><span class="line"><span class="comment">//        user = u2; // ERROR</span></span><br><span class="line">        USER.age = <span class="number">23</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> age = <span class="number">12</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç±»ä¸­æ‰€æœ‰<code>private</code>æ–¹æ³•éƒ½æ˜¯éšå¼çš„å®šä¹‰ä¸ºfinalï¼Œä¸ºprivateæ–¹æ³•æ·»åŠ finalå°±æ¯«æ— æ„ä¹‰ã€‚</p>
</li>
</ol>
<h2 id="Stringå±äºåŸºæœ¬æ•°æ®ç±»å‹å—ï¼Ÿ"><a href="#Stringå±äºåŸºæœ¬æ•°æ®ç±»å‹å—ï¼Ÿ" class="headerlink" title="Stringå±äºåŸºæœ¬æ•°æ®ç±»å‹å—ï¼Ÿ"></a>Stringå±äºåŸºæœ¬æ•°æ®ç±»å‹å—ï¼Ÿ</h2><p><strong>ä¸ï¼ŒStringå±äºç‰¹æ®Šçš„å¼•ç”¨ç±»å‹</strong></p>
<p>Javaä¸­åŸºæœ¬æ•°æ®ç±»å‹æœ‰ï¼šintã€shortã€longã€charã€booleanã€floatã€doubleã€byte</p>
<ol>
<li><code>String</code>æ˜¯ç‰¹æ®Šçš„å¼•ç”¨ç±»å‹å¹¶ä¸”æ˜¯<code>final</code>çš„ï¼ŒJVMä½¿ç”¨å­—ç¬¦ä¸²å¸¸é‡æ± å‚¨å­˜å­—ç¬¦ä¸²æ•°æ®ã€‚åˆ›å»ºæ–°çš„å­—ç¬¦ä¸²ï¼ŒJVMé¦–å…ˆä¼šå»å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å¯»æ‰¾æœ‰æ²¡æœ‰è¯¥å­—ç¬¦ä¸²ï¼Œå¦‚æœæ²¡æœ‰å°±æ·»åŠ åˆ°è¯¥å¸¸é‡æ± ï¼Œå¦‚æœæœ‰å°±è¿”å›è¯¥å­—ç¬¦ä¸²åœ¨å¸¸é‡æ± ä¸­çš„å¼•ç”¨ã€‚</li>
<li><code>String s = &quot;a&quot;; s += &quot;b&quot;;</code>ï¼Œè¿™æ®µä»£ç æ‰§è¡Œå‰åï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å°†å‡ºç°<code>a</code>å’Œ<code>ab</code>ä¸¤ä¸ªå­—ç¬¦ä¸²å¸¸é‡ï¼Œè€ŒåŸæœ¬<code>s</code>å˜é‡çš„å¼•ç”¨æŒ‡å‘äº†å¸¸é‡æ± ä¸­<code>ab</code>ã€‚</li>
<li><code>String s = new String(&quot;ab&quot;)</code>ï¼Œè¿™æ®µä»£ç ä¸€å…±åˆ›å»ºäº†å‡ ä¸ªå¯¹è±¡ï¼Ÿ<strong>ä¸€ä¸ªæˆ–ä¸¤ä¸ª</strong>ã€‚å¦‚æœå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æœ‰äº†<code>ab</code>è¿™ä¸ªå­—ç¬¦ä¸²(æ¯”å¦‚åœ¨æ­¤ä¹‹å‰å·²ç»ä½¿ç”¨äº†<code>String str = &quot;ab&quot;</code>)ï¼Œé‚£ä¹ˆæ–°çš„<code>s</code>å¯¹è±¡å¼•ç”¨å…¶å®ä»…ä»…æ˜¯æŒ‡å‘äº†å­—ç¬¦ä¸²å¸¸é‡ä¸­çš„<code>ab</code>ï¼Œå¹¶æ²¡æœ‰åˆ›å»ºæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡ã€‚<strong>ä½†æ˜¯</strong>ï¼Œæ¯æ¬¡è°ƒç”¨<code>new</code>éƒ½ä¼šåœ¨å †å†…å­˜å¼€è¾Ÿç©ºé—´ï¼Œåˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ï¼Œè¿™æ˜¯è‚¯å®šçš„ã€‚</li>
</ol>
<p>æ —å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String a = <span class="string">"abc"</span>;</span><br><span class="line">        String b = <span class="string">"abc"</span>;</span><br><span class="line">        String c = <span class="keyword">new</span> String(<span class="string">"abc"</span>);</span><br><span class="line">        System.out.println(a == b); <span class="comment">//true</span></span><br><span class="line">        System.out.println(a.equals(b)); <span class="comment">//true</span></span><br><span class="line">        System.out.println(a.equals(c)); <span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Stringå’ŒStringBufferå’ŒStringBuilderçš„åŒºåˆ«"><a href="#Stringå’ŒStringBufferå’ŒStringBuilderçš„åŒºåˆ«" class="headerlink" title="Stringå’ŒStringBufferå’ŒStringBuilderçš„åŒºåˆ«"></a>Stringå’ŒStringBufferå’ŒStringBuilderçš„åŒºåˆ«</h3><ol>
<li><code>String</code>æ˜¯ä¸å¯å˜å­—ç¬¦ä¸²ï¼Œ<code>StringBuffer</code>å’Œ<code>StringBuilder</code>æ˜¯å¯å˜å­—ç¬¦ä¸²ã€‚å¦‚æœç»å¸¸æ”¹å˜å­—ç¬¦ä¸²çš„åŸå§‹æ•°æ®ï¼Œæœ€å¥½ä½¿ç”¨<code>StringBuffer</code>ä»£æ›¿ã€‚</li>
<li><code>String</code>é»˜è®¤é‡å†™äº†<code>equals</code>æ–¹æ³•å’Œ<code>hashCode()</code>æ–¹æ³•ï¼›è€Œ<code>StringBuffer</code>æ²¡æœ‰é‡å†™<code>equals</code>æ–¹æ³•ï¼Œä½¿ç”¨<code>new StringBuffer(&quot;&quot;)</code>ä¼šç›´æ¥åœ¨å †å†…å­˜ä¸­å¼€è¾Ÿç©ºé—´å‚¨å­˜å¯¹è±¡ã€‚å› æ­¤å°†<code>StringBuffer</code>å¯¹è±¡å‚¨å­˜ä»…Javaé›†åˆä¸­å¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚</li>
<li><code>StringBuffer</code>æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ•ˆç‡ä½ï¼›<code>StringBuilder</code>æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œæ•ˆç‡é«˜ã€‚</li>
</ol>
<h2 id="staticå…³é”®å­—ï¼Ÿæ˜¯å¦å¯è¦†ç›–ï¼Ÿ"><a href="#staticå…³é”®å­—ï¼Ÿæ˜¯å¦å¯è¦†ç›–ï¼Ÿ" class="headerlink" title="staticå…³é”®å­—ï¼Ÿæ˜¯å¦å¯è¦†ç›–ï¼Ÿ"></a>staticå…³é”®å­—ï¼Ÿæ˜¯å¦å¯è¦†ç›–ï¼Ÿ</h2><p><code>static</code>å…³é”®å­—è¡¨æ˜ä¸€ä¸ªæˆå‘˜å˜é‡æˆ–è€…æ˜¯æˆå‘˜æ–¹æ³•å¯ä»¥åœ¨æ²¡æœ‰æ‰€å±çš„ç±»å®ä¾‹å˜é‡çš„æƒ…å†µä¸‹è¢«è®¿é—®ã€‚è¢«<code>static</code>æ ‡è®°çš„æ–¹æ³•ä¸èƒ½è¢«è¦†ç›–ï¼Œå› ä¸ºæ–¹æ³•çš„è¦†ç›–æ˜¯åŸºäºè¿è¡Œæ—¶åŠ¨æ€ç»‘å®šçš„ï¼Œè€Œ<code>static</code>æ–¹æ³•åœ¨ç¼–è¯‘æ—¶å°±å·²ç»å’Œè¯¥ç±»ç»‘å®šäº†ï¼Œä¹Ÿå°±æ˜¯<code>static</code>æ ‡è®°çš„å˜é‡ã€æ–¹æ³•éƒ½æ˜¯éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½çš„ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ä¸åˆ›å»ºå¯¹è±¡å®ä¾‹å°±èƒ½è®¿é—®è¯¥å˜é‡ã€æ–¹æ³•ï¼›è€Œä¸åˆ›å»ºå¯¹è±¡å®ä¾‹å°±è®¿é—®é<code>static</code>å˜é‡ã€æ–¹æ³•æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºæ­¤å˜é‡ã€æ–¹æ³•è¿˜æ²¡æœ‰è¢«åˆ›å»ºã€‚</p>
<ul>
<li><code>static</code>æ ‡è®°çš„æ–¹æ³•åªèƒ½è®¿é—®<code>static</code>å˜é‡æˆ–æ–¹æ³•</li>
<li>é<code>static</code>æ ‡è®°çš„æ–¹æ³•å¯ä»¥è®¿é—®<code>static</code>æˆ–é<code>static</code>æ ‡è®°çš„å˜é‡æˆ–æ–¹æ³•</li>
</ul>
<h2 id="è‡ªåŠ¨æ‹†ã€è£…ç®±"><a href="#è‡ªåŠ¨æ‹†ã€è£…ç®±" class="headerlink" title="è‡ªåŠ¨æ‹†ã€è£…ç®±"></a>è‡ªåŠ¨æ‹†ã€è£…ç®±</h2><p>å› ä¸ºJavaè‡ªèº«é¢å‘å¯¹è±¡OOPçš„ç‰¹æ€§ï¼Œè€Œä¸€åˆ‡åŸºæœ¬æ•°æ®ç±»å‹éƒ½ä¸å…·æœ‰é¢å‘å¯¹è±¡çš„ç‰¹æ€§ï¼Œæ‰€ä»¥Javaä¸ºåŸºæœ¬çš„æ•°æ®ç±»å‹æä¾›äº†å¯¹åº”çš„å¼•ç”¨ç±»å‹ã€‚</p>
<p>å…·ä½“è¡¨ç°åœ¨ç¨‹åºåœ¨ç¼–è¯‘æœŸé—´è‡ªåŠ¨å°†åŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¼•ç”¨ç±»å‹(è£…ç®±)ã€å°†å¼•ç”¨æ•°æ®ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹(æ‹†ç®±)</p>
<table>
<thead>
<tr>
<th>åŸºæœ¬æ•°æ®ç±»å‹</th>
<th>å¼•ç”¨æ•°æ®ç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td>int</td>
<td>Integer</td>
</tr>
<tr>
<td>byte</td>
<td>Byte</td>
</tr>
<tr>
<td>short</td>
<td>Short</td>
</tr>
<tr>
<td>long</td>
<td>Long</td>
</tr>
<tr>
<td>float</td>
<td>Float</td>
</tr>
<tr>
<td>double</td>
<td>Double</td>
</tr>
<tr>
<td>char</td>
<td>Char</td>
</tr>
<tr>
<td>boolean</td>
<td>Boolean</td>
</tr>
</tbody></table>
<p>æ —å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Integer i1 = <span class="number">100</span>;</span><br><span class="line">    Integer i2 = <span class="number">100</span>;</span><br><span class="line">    Integer i3 = <span class="number">200</span>;</span><br><span class="line">    Integer i4 = <span class="number">200</span>;</span><br><span class="line">    System.out.println(i1 == i2);</span><br><span class="line">    System.out.println(i3 == i4);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">true</span><br><span class="line">false</span><br></pre></td></tr></table></figure>

<p>Javaä¸­å®ç°åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨ç±»å‹ä¹‹é—´çš„æ‹†è£…ç®±ä¸€èˆ¬éƒ½æ˜¯ç”¨è¿‡<code>valueOf()</code>æ–¹æ³•å®ç°çš„ã€‚ä¾‹å¦‚æˆ‘ä»¬çœ‹ä¸‹<code>Integer</code>ç±»çš„<code>valueOf()</code>æ–¹æ³•æºç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title">valueOf</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</span><br><span class="line">        <span class="keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Integer(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼šå½“å£°æ˜ä¸€ä¸ªæ–°çš„æ•´æ•°å‹å˜é‡ï¼Œç¼–è¯‘æ—¶é€šè¿‡<code>Integer</code>ç±»çš„<code>valueOf()</code>è¿›è¡Œæ‹†è£…ç®±è®¡ç®—ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šé¦–å…ˆæ¯”è¾ƒè¿™ä¸ªæ•´æ•°å€¼æ˜¯å¦åœ¨<code>IntegerCache</code>çš„èŒƒå›´å†…ï¼Œå¦‚æœåœ¨å°±è¿”å›<code>IntegerCache</code>ç±»ä¸­çš„æ•°å€¼ï¼›å¦‚æœä¸åœ¨å°±ç›´æ¥<code>new Integer</code>ã€‚é‚£ä¹ˆæˆ‘ä»¬çœ‹ä¸‹<code>IntegerCache</code>ç±»æºç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntegerCache</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> low = -<span class="number">128</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> high;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> Integer cache[];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// high value may be configured by property</span></span><br><span class="line">        <span class="keyword">int</span> h = <span class="number">127</span>;</span><br><span class="line">        String integerCacheHighPropValue =</span><br><span class="line">            sun.misc.VM.getSavedProperty(<span class="string">"java.lang.Integer.IntegerCache.high"</span>);</span><br><span class="line">        <span class="keyword">if</span> (integerCacheHighPropValue != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">int</span> i = parseInt(integerCacheHighPropValue);</span><br><span class="line">                i = Math.max(i, <span class="number">127</span>);</span><br><span class="line">                <span class="comment">// Maximum array size is Integer.MAX_VALUE</span></span><br><span class="line">                h = Math.min(i, Integer.MAX_VALUE - (-low) -<span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span>( NumberFormatException nfe) &#123;</span><br><span class="line">                <span class="comment">// If the property cannot be parsed into an int, ignore it.</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        high = h;</span><br><span class="line"></span><br><span class="line">        cache = <span class="keyword">new</span> Integer[(high - low) + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> j = low;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; cache.length; k++)</span><br><span class="line">            cache[k] = <span class="keyword">new</span> Integer(j++);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// range [-128, 127] must be interned (JLS7 5.1.7)</span></span><br><span class="line">        <span class="keyword">assert</span> IntegerCache.high &gt;= <span class="number">127</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">IntegerCache</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥ï¼Œå½“å£°æ˜ä¸€ä¸ªæ–°çš„æ•´å‹å˜é‡æ—¶ï¼ˆintã€Integerï¼‰ï¼Œå¦‚æœè¿™ä¸ªå˜é‡å€¼çš„å¤§å°åœ¨<code>[-128, 127]</code>ä¹‹é—´ï¼Œå°±ç›´æ¥è¿”å›<code>IntegerCache</code>ä¸­å‚¨å­˜çš„å¸¸é‡å€¼ï¼Œå¦åˆ™å°±ç›´æ¥<code>new</code>ä¸€ä¸ªæ–°çš„<code>Integer</code>æ¥ä¿å­˜è¿™ä¸ªå¸¸é‡å€¼ã€‚æ‰€ä»¥ä¸Šé¢æ‰ä¼šå‡ºç°<code>false</code>çš„ç»“æœã€‚</p>
<p><strong>åŒç†</strong>ï¼šå…¶ä»–çš„æ•°æ®ç±»å‹ä¾‹å¦‚ï¼š<code>long</code>ã€<code>short</code>ç­‰éƒ½å…·æœ‰å¯¹åº”çš„<code>LongCache</code>ã€<code>ShortCache</code>ç­‰ç±»ã€‚</p>
<h2 id="Overridingå’ŒOverloaded"><a href="#Overridingå’ŒOverloaded" class="headerlink" title="Overridingå’ŒOverloaded"></a>Overridingå’ŒOverloaded</h2><p>æ–¹æ³•çš„é‡å†™Overridingå’Œæ–¹æ³•çš„é‡è½½Overloadedéƒ½æ˜¯Javaå¤šæ€æ€§çš„ä¸€ç§è¡¨ç°ã€‚</p>
<ul>
<li><code>Overriding</code>: å­ç±»ä¸­å®šä¹‰äº†å’Œçˆ¶ç±»ä¸­åç§°ã€å‚æ•°åˆ—è¡¨ç›¸åŒçš„æ–¹æ³•</li>
<li><code>Overloaded</code>: æ–¹æ³•åç›¸åŒï¼Œå‚æ•°åˆ—è¡¨ä¸åŒ</li>
</ul>
<h2 id="Javaæ”¯æŒå¤šç»§æ‰¿å—ï¼Ÿ"><a href="#Javaæ”¯æŒå¤šç»§æ‰¿å—ï¼Ÿ" class="headerlink" title="Javaæ”¯æŒå¤šç»§æ‰¿å—ï¼Ÿ"></a>Javaæ”¯æŒå¤šç»§æ‰¿å—ï¼Ÿ</h2><p>ä¸æ”¯æŒã€‚Javaä¸­æ¯ä¸ªç±»éƒ½åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œå¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡<strong>å¤šå±‚</strong>ç»§æ‰¿å®ç°ã€‚</p>
<p>ç±»å®šä¹‰å±æ€§å’Œæ–¹æ³•ï¼Œæè¿°æŸä¸€ç±»äº‹ç‰©çš„æŠ½è±¡ã€‚è€Œæ¥å£å®šä¹‰äº†è¡Œä¸ºï¼Œå¹¶ä¸é™äºä»»ä½•å…·ä½“æ„å‘ã€‚</p>
<p>ä»é€»è¾‘ä¸Šè¯´ï¼Œå•ç»§æ‰¿æ›´åŠ æ˜ç¡®æŒ‡å‡ºä¸€ä¸ªå­ç±»å°±åº”è¯¥æ˜¯å…¶çˆ¶ç±»ä»£è¡¨çš„äº‹ç‰©ä¸­æŸä¸ªæ›´å…·ä½“çš„ç±»åˆ«ã€‚è€Œæ¥å£åˆ™ä¸åŒï¼Œæ¥å£å®šä¹‰äº†ä¸€äº›å…¬å…±è¡Œä¸ºã€‚å› æ­¤ç±»å¯¹æ¥å£çš„implementsç§°ä¸ºå®ç°è€Œä¸èƒ½ç§°ä¸ºç»§æ‰¿ã€‚</p>
<h2 id="æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«ï¼Ÿ"><a href="#æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«ï¼Ÿ"></a>æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«ï¼Ÿ</h2><ul>
<li>æ¥å£ä¸­æ‰€æœ‰çš„æ–¹æ³•éšå«éƒ½æ˜¯æŠ½è±¡çš„ã€‚è€ŒæŠ½è±¡ç±»åˆ™å¯ä»¥åŒæ—¶åŒ…å«æŠ½è±¡å’ŒéæŠ½è±¡çš„æ–¹æ³•ã€‚</li>
<li>æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•å¿…é¡»æ˜¯ä¸åŒ…å«å…·ä½“å®ç°çš„ï¼ˆå³éšå¼çš„æŠ½è±¡æ–¹æ³•ï¼‰ï¼›ä½†æŠ½è±¡ç±»ä¸­æ—¢å¯ä»¥å®šä¹‰æŠ½è±¡æ–¹æ³•ï¼ˆä¸åŒ…å«å…·ä½“å®ç°ï¼‰åˆå¯ä»¥å®šä¹‰éæŠ½è±¡æ–¹æ³• ( åŒ…å«å…·ä½“å®ç° )</li>
<li>ç±»å®ç°æ¥å£å°±å¿…é¡»å®ç°æ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ï¼›ä½†ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå¯ä»¥ä¸å®ç°æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³• ( ä½†å‰ææ˜¯è¿™ä¸ªç±»ä¹Ÿæ˜¯æŠ½è±¡çš„ )</li>
<li>æŠ½è±¡ç±»å¯ä»¥æ˜¯ä¸æä¾›æ¥å£æ–¹æ³•å®ç°çš„æƒ…å†µä¸‹å®ç°æ¥å£</li>
<li>æ¥å£ä¸­å£°æ˜çš„å˜é‡é»˜è®¤éƒ½æ˜¯finalçš„ï¼›ä½†æŠ½è±¡ç±»å¯ä»¥åŒ…å«éfinalçš„å˜é‡</li>
<li>æ¥å£ä¸­çš„æˆå‘˜æ–¹æ³•é»˜è®¤éƒ½æ˜¯publicçš„ï¼›ä½†æŠ½è±¡ç±»ä¸­çš„æˆå‘˜å‡½æ•°å¯ä»¥æ˜¯privateã€protectedã€public</li>
<li>æ¥å£æ˜¯ç»å¯¹æŠ½è±¡çš„ï¼Œä¸å¯ä»¥è¢«å®ä¾‹åŒ–ï¼›</li>
</ul>
<h2 id="å¼•ç”¨ä¼ é€’å’Œå€¼ä¼ é€’"><a href="#å¼•ç”¨ä¼ é€’å’Œå€¼ä¼ é€’" class="headerlink" title="å¼•ç”¨ä¼ é€’å’Œå€¼ä¼ é€’"></a>å¼•ç”¨ä¼ é€’å’Œå€¼ä¼ é€’</h2><p><strong>Javaä¸­é‡‡ç”¨å€¼ä¼ é€’çš„æ–¹å¼</strong></p>
<p>æ —å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TransferTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line">        Integer b = <span class="number">2</span>;</span><br><span class="line">        swap(a, b);</span><br><span class="line">        System.out.println(a);</span><br><span class="line">        System.out.println(b);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>, <span class="number">2</span>&#125;;</span><br><span class="line">        swap(arr);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">        arr[<span class="number">0</span>] = <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> a, Integer b)</span> </span>&#123;</span><br><span class="line">        a = <span class="number">10</span>;</span><br><span class="line">        b = <span class="number">20</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•ä¼ é€’æ—¶ä¼ é€’çš„å‚æ•°å…¶å®ä»…å€¼åŸå‚æ•°çš„ä¸€ä¸ªæ‹·è´ï¼Œå¯¹äºåŸºæœ¬ç±»å‹ä¼ é€’çš„å°±æ˜¯å…·ä½“çš„å€¼çš„æ‹·è´ï¼Œå¯¹äºå¼•ç”¨ç±»å‹ä¼ é€’çš„æ˜¯å¯¹è±¡åœ°å€ã€‚</p>
<p>æ‰€ä»¥ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹a,bç»è¿‡swapæ–¹æ³•å¹¶æ²¡æœ‰æ”¹å˜åŸå§‹å€¼ï¼Œè€Œå¼•ç”¨ç±»å‹arræ•°ç»„ç»è¿‡swapæ–¹æ³•å°±æ”¹å˜äº†åŸå§‹å€¼ï¼ˆå› ä¸ºç›´æ¥å¯¹å¯¹è±¡å †å†…å­˜åœ°å€æ•°æ®æ“ä½œï¼‰ã€‚</p>
<h2 id="IOæµ"><a href="#IOæµ" class="headerlink" title="IOæµ"></a>IOæµ</h2><p><img src="http://cdn.tycoding.cn/20180127210359151.png" alt></p>
<h3 id="Javaä¸­æœ‰å‡ ç§ç±»å‹çš„æµï¼Ÿ"><a href="#Javaä¸­æœ‰å‡ ç§ç±»å‹çš„æµï¼Ÿ" class="headerlink" title="Javaä¸­æœ‰å‡ ç§ç±»å‹çš„æµï¼Ÿ"></a>Javaä¸­æœ‰å‡ ç§ç±»å‹çš„æµï¼Ÿ</h3><p>å­—ç¬¦æµå’Œå­—èŠ‚æµã€‚å­—èŠ‚æµç»§æ‰¿<code>InputStream</code>å’Œ<code>OutputStream</code>ï¼›å­—ç¬¦æµç»§æ‰¿è‡ª<code>InputStreamReader</code>å’Œ<code>OutputStreamWriter</code>ã€‚</p>
<h3 id="è°ˆè°ˆJava-IOä¸­çš„æ–¹æ³•é˜»å¡"><a href="#è°ˆè°ˆJava-IOä¸­çš„æ–¹æ³•é˜»å¡" class="headerlink" title="è°ˆè°ˆJava IOä¸­çš„æ–¹æ³•é˜»å¡"></a>è°ˆè°ˆJava IOä¸­çš„æ–¹æ³•é˜»å¡</h3><p>Javaä¸­çš„é˜»å¡å¼æ–¹æ³•æ˜¯æŒ‡åœ¨ç¨‹åºè°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œå¿…é¡»ç­‰å¾…è¾“å…¥æ•°æ®å¯ç”¨æˆ–æ£€æµ‹åˆ°è¾“å…¥ç»“æœæ—¶ç»“æŸæˆ–æŠ›å‡ºå¼‚å¸¸ï¼Œå¦åˆ™ç¨‹åºä¼šä¸€ç›´åœç•™åœ¨è¯¥è¯­å¥ä¸Šï¼Œä¸ä¼šæ‰§è¡Œä¸‹é¢çš„è¯­å¥ã€‚æ¯”å¦‚<code>read()</code>å’Œ<code>readLine()</code>æ–¹æ³•ã€‚</p>
<h3 id="å­—ç¬¦æµå’Œå­—èŠ‚æµçš„åŒºåˆ«ï¼Ÿ"><a href="#å­—ç¬¦æµå’Œå­—èŠ‚æµçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="å­—ç¬¦æµå’Œå­—èŠ‚æµçš„åŒºåˆ«ï¼Ÿ"></a>å­—ç¬¦æµå’Œå­—èŠ‚æµçš„åŒºåˆ«ï¼Ÿ</h3><p>æ•°æ®çš„è¾“å…¥å’Œè¾“å‡ºåœ¨è®¡ç®—æœºä¸­æœ€ç»ˆéƒ½æ˜¯é€šè¿‡å­—èŠ‚çš„å½¢å¼ä¼ é€’çš„ï¼Œå¯¹åº”é€šè¿‡<code>InputStream</code>å’Œ<code>OutputStream</code>å®ç°ï¼Œä»–ä»¬éƒ½æ˜¯é’ˆå¯¹å­—èŠ‚æ“ä½œçš„ã€‚</p>
<p>è€Œæœ‰æ—¶å€™é€šå¸¸éœ€è¦è¯»å–ä¸€äº›å®Œå…¨æ˜¯å­—ç¬¦çš„æ–‡æœ¬æ•°æ®ï¼Œé€šå¸¸ä½¿ç”¨åŸºäºå­—èŠ‚æµçš„åŒ…è£…ç±»å­—ç¬¦æµå®Œæˆæ“ä½œï¼Œä»–ä»¬é€šè¿‡<code>InputStreamReader</code>å’Œ<code>OutputStreamWriter</code>å®ç°ã€‚</p>
<p>å­—ç¬¦æµæ˜¯å­—èŠ‚æµçš„åŒ…è£…ï¼Œå³ä½¿æœ‰æ—¶å€™è¯»å–çš„æ˜¯å­—ç¬¦æµï¼Œä½†ä¹Ÿå¯èƒ½éœ€è¦è½¬æ¢ä¸ºå­—èŠ‚å†™å…¥ã€‚</p>
<h3 id="NIO"><a href="#NIO" class="headerlink" title="NIO"></a>NIO</h3><p>ä¼ ç»Ÿçš„IOæ˜¯é˜»å¡å¼çš„ï¼Œä¼šä¸€ç›´ç›‘å¬ä¸€ä¸ªServerSocketï¼Œåœ¨è°ƒç”¨readç­‰æ–¹æ³•æ—¶ï¼Œä¼šä¸€ç›´ç­‰åˆ°æ•°æ®åˆ°æ¥æˆ–ç¼“å†²åŒºå·²æ»¡æ—¶æ‰è¿”å›ï¼›è°ƒç”¨acceptæ—¶ä¹Ÿä¼šä¸€ç›´é˜»å¡åˆ°æœ‰å®¢æˆ·ç«¯è¿æ¥æ—¶æ‰ç»§ç»­æ‰§è¡Œï¼›æ¯ä¸ªå®¢æˆ·ç«¯è¿æ¥æˆåŠŸåï¼ŒæœåŠ¡ç«¯éƒ½ä¼šè¸¢åŠ¨ä¸€ä¸ªå¿åŸå»å¤„ç†è¯¥å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼›åœ¨å¤šçº¿ç¨‹å¤„ç†å¤šä¸ªè¿æ¥æ—¶ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æ‹¥æœ‰è‡ªå·±çš„æ ˆç©ºé—´å¹¶ä¸”å ç”¨äº†ä¸€äº›CPUæ—¶é—´ï¼Œæ¯ä¸ªçº¿ç¨‹é‡åˆ°å¤–éƒ¨æœªå‡†å¤‡å¥½æ—¶ï¼Œéƒ½ä¼šå‘ç”Ÿé˜»å¡ã€‚é˜»å¡çš„ç»“æœå°±æ˜¯ä¼šæ‰“æ¥å¤§é‡çš„è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚</p>
<p>è€Œå¯¹äºNIOï¼Œå®ƒæ˜¯éé˜»å¡å¼ï¼Œæ ¸å¿ƒç±»ï¼š</p>
<ul>
<li>Bufferï¼š ä¸ºæ‰€æœ‰çš„åŸå§‹ç±»å‹æä¾›Bufferç¼“å†²æ”¯æŒ</li>
<li>Charsetï¼š å­—ç¬¦é›†ç¼–ç è§£ç è§£å†³æ–¹æ¡ˆ</li>
<li>Channelï¼š ä¸€ä¸ªæ–°çš„åŸå§‹IOæŠ½è±¡ï¼Œç”¨äºè¯»å–Bufferç±»å‹ï¼Œé€šé“å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§é“¾æ¥ï¼Œå¯ä»¥æ˜¯åˆ°ç‰¹å®šè®¾å¤‡ã€ç¨‹åºæˆ–æ˜¯ç½‘ç»œé“¾æ¥ã€</li>
</ul>
<h2 id="è¯´è¯´Listã€Setã€Mapä¸‰è€…çš„åŒºåˆ«"><a href="#è¯´è¯´Listã€Setã€Mapä¸‰è€…çš„åŒºåˆ«" class="headerlink" title="è¯´è¯´Listã€Setã€Mapä¸‰è€…çš„åŒºåˆ«"></a>è¯´è¯´Listã€Setã€Mapä¸‰è€…çš„åŒºåˆ«</h2><ul>
<li>List:  Listæ¥å£å‚¨å­˜ä¸€ç»„ä¸å”¯ä¸€ (å¯ä»¥æœ‰å¤šä¸ªå…ƒç´ å¼•ç”¨å¼•ç”¨ç›¸åŒçš„å¯¹è±¡)ï¼Œæœ‰åºçš„å¯¹è±¡ï¼Œå¯æ’å…¥å¤šæ¡nullå…ƒç´ </li>
<li>Set:  ä¸å…è®¸é‡å¤çš„é›†åˆï¼Œä¸å…è®¸æœ‰å¤šä¸ªå…ƒç´ å¼•ç”¨ç›¸åŒçš„å¯¹è±¡ï¼Œåªå…è®¸æœ‰ä¸€ä¸ªnullå…ƒç´ </li>
<li>Map:  ä½¿ç”¨é”®å€¼å¯¹å‚¨å­˜ï¼ŒMapä¼šç»´æŠ¤ä¸Keyæœ‰å…³è”çš„å€¼ï¼Œä¸¤ä¸ªKeyå¯ä»¥å¼•ç”¨ç›¸åŒçš„å¯¹è±¡ï¼Œä½†Keyä¸èƒ½é‡å¤ã€‚ </li>
</ul>
<h2 id="Arrayå’ŒArrayListæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#Arrayå’ŒArrayListæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="Arrayå’ŒArrayListæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>Arrayå’ŒArrayListæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul>
<li><code>Array</code>å¯ä»¥åŒ…å«åŸºæœ¬ç±»å‹å’Œå¯¹è±¡ç±»å‹ï¼›<code>ArrayList</code>åªèƒ½åŒ…å«å¯¹è±¡ç±»å‹</li>
<li><code>Array</code>å¤§å°æ˜¯å›ºå®šçš„ï¼›<code>ArrayList</code>å¤§å°æ˜¯åŠ¨æ€å˜åŒ–çš„</li>
<li><code>ArrayList</code>æä¾›äº†è¯¸å¦‚<code>addAll()</code>ã€<code>removeAll()</code>ã€<code>iterator()</code>æ–¹æ³•ç­‰</li>
<li>å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œé›†åˆä½¿ç”¨è‡ªåŠ¨è£…ç®±æ¥å‡å°‘ä»£ç é‡ï¼›ä½†å½“å¤„ç†å›ºå®šå¤§å°çš„åŸºæœ¬ç±»å‹æ•°æ®æ—¶ï¼Œè¿™ç§æ–¹å¼ç›¸å¯¹è¾ƒæ…¢ã€‚</li>
</ul>
<h2 id="ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼Ÿ"><a href="#ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼Ÿ"></a>ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼Ÿ</h2><ol>
<li><strong>æ˜¯å¦ä¿è¯çº¿ç¨‹å®‰å…¨</strong>ï¼š  <code>ArrayList</code>å’Œ<code>LinkedList</code>éƒ½æ˜¯ä¸åŒæ­¥çš„ï¼Œä¹Ÿå°±æ˜¯ä¸ä¿è¯çº¿ç¨‹å®‰å…¨</li>
<li><strong>åº•å±‚æ•°æ®ç»“æ„</strong>ï¼š <code>ArrayList</code>åº•å±‚ä½¿ç”¨çš„æ˜¯<code>Object</code>æ•°ç»„ï¼›<code>LinkedList</code>åº•å±‚ä½¿ç”¨çš„æ˜¯ <strong>åŒå‘é“¾è¡¨</strong> ç»“æ„</li>
<li><strong>æ’å…¥å’Œåˆ é™¤æ˜¯å¦å—å…ƒç´ ä½ç½®å½±å“ï¼Ÿ</strong>  <code>ArrayList</code>é‡‡ç”¨æ•°ç»„å‚¨å­˜ï¼Œæ‰€ä»¥æ’å…¥å’Œåˆ é™¤å…ƒç´ éƒ½å—å…ƒç´ ä½ç½®çš„å½±å“ï¼›<code>LinkedList</code> é‡‡ç”¨é“¾è¡¨å‚¨å­˜ï¼Œæ‰€ä»¥æ’å…¥ã€åˆ é™¤å…ƒç´ éƒ½ä¸å—å…ƒç´ ä½ç½®å½±å“ã€‚</li>
<li><strong>æ˜¯å¦æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ï¼Ÿ</strong>  <code>LinkedList</code>å› ä¸ºä½¿ç”¨é“¾è¡¨å‚¨å­˜ï¼Œæ— æ³•é€šè¿‡å…ƒç´ ç´¢å¼•å¿«é€Ÿè®¿é—®ï¼›è€Œ<code>ArrayList</code>å› ä¸ºåº•å±‚é‡‡ç”¨Objectæ•°ç»„å‚¨å­˜ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•å¿«é€Ÿéšæœºè®¿é—®ã€‚</li>
<li><strong>å†…å­˜ç©ºé—´å ç”¨</strong>ï¼š  <code>ArrayList</code>çš„ç©ºé—´æµªè´¹ä¸»è¦ä½“ç°åœ¨åœ¨Liståˆ—è¡¨çš„ç»“å°¾éƒ½ä¼šé¢„ç•™ä¸€å®šçš„ç©ºé—´å®¹é‡ï¼Œè€Œ<code>LinkedList</code>çš„ç©ºé—´èŠ±è´¹ä½“ç°åœ¨ä»–çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½éœ€è¦æ¶ˆè€—æ¯”<code>ArrayList</code>æ›´å¤šçš„ç©ºé—´ï¼ˆå› ä¸ºè¦å‚¨å­˜ç›´æ¥åç»§å’Œç›´æ¥å‰é©±ä»¥åŠæ•°æ®ï¼‰ã€‚</li>
</ol>
<h3 id="ä»€ä¹ˆæ˜¯è¿­ä»£å™¨"><a href="#ä»€ä¹ˆæ˜¯è¿­ä»£å™¨" class="headerlink" title="ä»€ä¹ˆæ˜¯è¿­ä»£å™¨"></a>ä»€ä¹ˆæ˜¯è¿­ä»£å™¨</h3><p><code>Iterator</code>æ¥å£ä¸­æä¾›äº†å¾ˆå¤šå¯¹é›†åˆå…ƒç´ è¿­ä»£çš„æ–¹æ³•ã€‚æ¯ä¸ªé›†åˆä¸­éƒ½æœ‰å¯ä»¥è¿”å›è¿­ä»£å™¨å¯¹è±¡çš„æ–¹æ³•<code>iterator()</code>ã€‚è¿­ä»£å™¨åœ¨è¿­ä»£çš„è¿‡ç¨‹ä¸­å¯ä»¥åˆ é™¤åº•å±‚é›†åˆçš„å…ƒç´ ã€‚</p>
<h3 id="Iteratorå’ŒListIteratorçš„åŒºåˆ«ï¼Ÿ"><a href="#Iteratorå’ŒListIteratorçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="Iteratorå’ŒListIteratorçš„åŒºåˆ«ï¼Ÿ"></a>Iteratorå’ŒListIteratorçš„åŒºåˆ«ï¼Ÿ</h3><ul>
<li><code>Iterator</code>å¯ä»¥ç”¨æ¥éå†Setå’ŒListé›†åˆï¼Œä½†æ˜¯<code>ListIterator</code>åªèƒ½éå†List</li>
<li><code>Iterator</code>å¯¹é›†åˆåªèƒ½å‘å‰éå†ï¼ˆ<code>next()</code>ï¼‰ï¼›è€Œ<code>ListIterator</code>å¯ä»¥å‘å‰éå†ï¼ˆ<code>next()</code>ï¼‰ï¼Œä¹Ÿå¯ä»¥å‘åéå†ï¼ˆ<code>previous()</code>ï¼‰</li>
<li><code>ListIterator</code>å®ç°äº†<code>Iterator</code>æ¥å£</li>
</ul>
<h3 id="RandomAccessæ¥å£"><a href="#RandomAccessæ¥å£" class="headerlink" title="RandomAccessæ¥å£"></a>RandomAccessæ¥å£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ArrayList</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">        <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;, <span class="title">RandomAccess</span>, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span></span><br><span class="line"><span class="class"></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//RandomAccess</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RandomAccess</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//LinkedList</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedList</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractSequentialList</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;, <span class="title">Deque</span>&lt;<span class="title">E</span>&gt;, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span></span><br><span class="line"><span class="class"></span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>æºç ä¸­<code>ArrayList</code>ç±»å®ç°äº†<code>RandomAccess</code>æ¥å£ï¼Œ<code>LinkedList</code>ç±»ä¸­å´æ²¡æœ‰å®ç°è¿™ä¸ªæ¥å£ï¼Œä½†æ˜¯<code>RandomAccess</code>æ¥å£ä¸­å´ä»€ä¹ˆä¹Ÿæ²¡æœ‰å®šä¹‰ã€‚å¯ä»¥çœ‹<code>RandomAccess</code>æ¥å£ä¸Šçš„æ³¨é‡Šï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Marker interface used by &lt;tt&gt;List&lt;/tt&gt; implementations to indicate that</span></span><br><span class="line"><span class="comment"> * they support fast (generally constant time) random access.  The primary</span></span><br><span class="line"><span class="comment"> * purpose of this interface is to allow generic algorithms to alter their</span></span><br><span class="line"><span class="comment"> * behavior to provide good performance when applied to either random or</span></span><br><span class="line"><span class="comment"> * sequential access lists.</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<p>å¤§æ¦‚å°±æ˜¯è¯´è¿™ä¸ªæ¥å£ä»…æ˜¯ä¸€ä¸ªæ ‡è¯†Markerï¼Œå®ç°äº†è¿™ä¸ªæ¥å£çš„Listå°†æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ï¼ˆrandom accessï¼‰ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŸ¥çœ‹<code>Collections</code>ç±»ä¸­çš„<code>binarySearch</code>æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(List&lt;? extends Comparable&lt;? <span class="keyword">super</span> T&gt;&gt; list, T key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (list <span class="keyword">instanceof</span> RandomAccess || list.size()&lt;BINARYSEARCH_THRESHOLD)</span><br><span class="line">        <span class="keyword">return</span> Collections.indexedBinarySearch(list, key);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> Collections.iteratorBinarySearch(list, key);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> &lt;T&gt;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">indexedBinarySearch</span><span class="params">(List&lt;? extends Comparable&lt;? <span class="keyword">super</span> T&gt;&gt; list, T key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> high = list.size()-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (low + high) &gt;&gt;&gt; <span class="number">1</span>;</span><br><span class="line">        Comparable&lt;? <span class="keyword">super</span> T&gt; midVal = list.get(mid);</span><br><span class="line">        <span class="keyword">int</span> cmp = midVal.compareTo(key);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">            low = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">            high = mid - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> mid; <span class="comment">// key found</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -(low + <span class="number">1</span>);  <span class="comment">// key not found</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> &lt;T&gt;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">iteratorBinarySearch</span><span class="params">(List&lt;? extends Comparable&lt;? <span class="keyword">super</span> T&gt;&gt; list, T key)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> high = list.size()-<span class="number">1</span>;</span><br><span class="line">    ListIterator&lt;? extends Comparable&lt;? <span class="keyword">super</span> T&gt;&gt; i = list.listIterator();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (low + high) &gt;&gt;&gt; <span class="number">1</span>;</span><br><span class="line">        Comparable&lt;? <span class="keyword">super</span> T&gt; midVal = get(i, mid);</span><br><span class="line">        <span class="keyword">int</span> cmp = midVal.compareTo(key);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">            low = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">            high = mid - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> mid; <span class="comment">// key found</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -(low + <span class="number">1</span>);  <span class="comment">// key not found</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>binarySearch()</code>æ–¹æ³•æ˜¯ä»Listä¸­æŸ¥æ‰¾æŒ‡å®šå…ƒç´ ï¼Œå…¶ä¸­é¦–å…ˆåˆ¤æ–­ä¼ å…¥çš„Listæ—¶å€™å®ç°äº†<code>RandomAccess</code>æ¥å£ï¼Œå¦‚æœå®ç°äº†å°±è°ƒç”¨<code>indexedBinarySearch()</code>æ–¹æ³•ï¼Œå¦åˆ™å°±è°ƒç”¨<code>iteratorBinarySearch()</code>æ–¹æ³•ã€‚å†çœ‹è¿™ä¸¤ä¸ªæ–¹æ³•çš„æºç ï¼š</p>
<ul>
<li>å¦‚æœä¼ å…¥çš„Listå®ç°äº†<code>RandomAccess</code>æ¥å£ï¼Œé‡‡ç”¨æ™®é€šforå¾ªç¯éå†</li>
<li>è‹¥ä¼ å…¥çš„Listæœªå®ç°<code>RandomAccess</code>æ¥å£ï¼Œé‡‡ç”¨<code>iterator</code>éå†</li>
</ul>
<h3 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h3><p><strong>é“¾è¡¨ï¼ˆLinked Listï¼‰</strong>ç”±ä¸€ä¸²èŠ‚ç‚¹ç»„æˆï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä»»æ„çš„å®ä¾‹æ•°æ®å’Œä¸€æˆ–ä¸¤ä¸ªç”¨æ¥æŒ‡å‘ä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä½ç½®çš„æŒ‡é’ˆ</p>
<blockquote>
<p>   å•å‘é“¾è¡¨</p>
</blockquote>
<p>å•å‘é“¾è¡¨åŒ…å«æ¯ä¸ªèŠ‚ç‚¹NodeåŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼šç¬¬ä¸€éƒ¨åˆ†dataå‚¨å­˜å½“å‰èŠ‚ç‚¹æ•°æ®ã€ç¬¬äºŒéƒ¨åˆ†nextå­˜å‚¨ä¸‹ä¸€èŠ‚ç‚¹çš„åœ°å€ã€‚</p>
<ul>
<li>å•å‘é“¾è¡¨åªå¯å‘ä¸€ä¸ªæ–¹å‘éå†ï¼ŒæŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹éœ€è¦ä»ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹å‘ä¸‹ä¾æ¬¡å¯»æ‰¾</li>
</ul>
<p><img src="http://cdn.tycoding.cn/1120165-20171207161602113-1451349858.png" alt></p>
<ul>
<li>å•å‘é“¾è¡¨æ’å…¥èŠ‚ç‚¹ä»é“¾è¡¨å¤´éƒ¨æ’å…¥ï¼Œå°†æ–°æ’å…¥èŠ‚ç‚¹çš„nextæŒ‡å‘åŸå¤´éƒ¨èŠ‚ç‚¹ä½ç½®å³å¯</li>
</ul>
<p><img src="http://cdn.tycoding.cn/1120165-20171207162758425-142549066.png" alt></p>
<ul>
<li>åˆ é™¤èŠ‚ç‚¹ï¼Œåªéœ€è¦å°†è¯¥èŠ‚ç‚¹ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„nextæŒ‡å‘è¯¥èŠ‚ç‚¹ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å³å¯</li>
</ul>
<p><img src="http://cdn.tycoding.cn/1120165-20171207162815925-341262498.png" alt></p>
<blockquote>
<p>  åŒå‘é“¾è¡¨</p>
</blockquote>
<p><strong>åŒå‘é“¾è¡¨</strong> åŒ…å«ä¸¤ä¸ªæŒ‡é’ˆï¼Œ<code>prev</code>æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œ<code>next</code>æŒ‡å‘åä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>
<p><img src="http://cdn.tycoding.cn/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8.png" alt></p>
<blockquote>
<p>  åŒå‘å¾ªç¯é“¾è¡¨</p>
</blockquote>
<p><strong>åŒå‘å¾ªç¯é“¾è¡¨</strong> æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„<code>next</code>æŒ‡å‘<code>head</code>ï¼Œè€Œ<code>head</code>çš„<code>prev</code>æŒ‡å‘æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½¢æˆä¸€ä¸ªç¯ã€‚</p>
<p><img src="http://cdn.tycoding.cn/%E5%8F%8C%E5%90%91%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8.png" alt></p>
<h2 id="ArrayListå’ŒVectorå’ŒLinkedListçš„åŒºåˆ«ï¼Ÿ"><a href="#ArrayListå’ŒVectorå’ŒLinkedListçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="ArrayListå’ŒVectorå’ŒLinkedListçš„åŒºåˆ«ï¼Ÿ"></a>ArrayListå’ŒVectorå’ŒLinkedListçš„åŒºåˆ«ï¼Ÿ</h2><ul>
<li><strong>ArrayList</strong>:  åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„ï¼ŒæŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢ã€‚çº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆç‡é«˜</li>
<li><strong>Vector</strong>:  åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„ï¼ŒæŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢ã€‚çº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡ä½</li>
<li><strong>LinkedList</strong>:  åº•å±‚æ•°æ®ç»“æ„æ˜¯é“¾è¡¨ï¼ŒæŸ¥è¯¢æ…¢ï¼Œå¢åˆ å¿«ã€‚çº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆç‡é«˜</li>
</ul>
<h2 id="è°ˆè°ˆArrayListçš„æ‰©å®¹æœºåˆ¶"><a href="#è°ˆè°ˆArrayListçš„æ‰©å®¹æœºåˆ¶" class="headerlink" title="è°ˆè°ˆArrayListçš„æ‰©å®¹æœºåˆ¶"></a>è°ˆè°ˆArrayListçš„æ‰©å®¹æœºåˆ¶</h2><p>Javaä¸­åŸºæœ¬æ•°ç»„éƒ½æ˜¯å®šé•¿çš„ï¼Œä¸€æ—¦è¢«å®ä¾‹åŒ–åå°±ä¸èƒ½æ”¹å˜å…¶é•¿åº¦ï¼Œæ„å‘³ç€åˆ›å»ºæ•°ç»„æ—¶å¿…é¡»ç¡®å®šæ•°ç»„çš„å®¹é‡å¤§å°ã€‚è€Œå¾ˆå¤šæƒ…å†µä¸‹ï¼Œæ•°ç»„çš„é•¿åº¦ä¸æ˜¯ç¡®å®šçš„ï¼Œéœ€è¦åŠ¨æ€å¢å‡ï¼Œ<code>ArrayList</code>çš„å‡ºç°å°±è§£å†³äº†è¿™ä¸€é—®é¢˜ã€‚</p>
<p><code>ArrayList</code>çš„æ‰©å®¹æœºåˆ¶è¡¨ç°åœ¨<code>add()</code>æ–¹æ³•ä¸Šï¼Œå…ˆçœ‹<code>add()</code>æ–¹æ³•çš„æºç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    ensureCapacityInternal(size + <span class="number">1</span>);  <span class="comment">// Increments modCount!!</span></span><br><span class="line">    elementData[size++] = e;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureCapacityInternal</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–æœ€å°å®¹é‡</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">calculateCapacity</span><span class="params">(Object[] elementData, <span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;</span><br><span class="line">        <span class="keyword">return</span> Math.max(DEFAULT_CAPACITY, minCapacity);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minCapacity;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureExplicitCapacity</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    modCount++;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// overflow-conscious code</span></span><br><span class="line">    <span class="keyword">if</span> (minCapacity - elementData.length &gt; <span class="number">0</span>)</span><br><span class="line">        grow(minCapacity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“å‘<code>ArrayList</code>å¯¹è±¡ä¸­æ·»åŠ æ–°å…ƒç´ æ—¶ï¼Œé¦–å…ˆä¼šè°ƒç”¨<code>ensureCapacityInternal(size)</code>æ–¹æ³•ï¼Œ<code>size</code>ä¸ºæœ€å°æ‰©å®¹é‡ï¼›<code>ensureCapacityInternal()</code>æ–¹æ³•ä¼šé¦–å…ˆè°ƒç”¨<code>calculateCapacity</code>æ¥ç¡®å®šéœ€è¦çš„æœ€å°å®¹é‡ï¼›æœ€åè°ƒç”¨<code>ensureExplicitCapacity()</code>æ–¹æ³•åˆ¤æ–­æ—¶å€™éœ€è¦æ‰©å®¹ã€‚æœ€ååˆ¤æ–­æ‰€éœ€æœ€å°å®¹é‡å¦‚æœå¤§äºå½“å‰æ•°ç»„çš„ç©ºé—´å¤§å°ï¼Œåˆ™éœ€è¦æ‰©å®¹ï¼Œè°ƒç”¨<code>grow()</code>æ–¹æ³•æ‰©å®¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">grow</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è·å–ArrayListä¸­elementDaataæ•°ç»„çš„é•¿åº¦</span></span><br><span class="line">    <span class="keyword">int</span> oldCapacity = elementData.length;</span><br><span class="line">    <span class="comment">// æ‰©å®¹è‡³åŸæ¥çš„1.5å€</span></span><br><span class="line">    <span class="keyword">int</span> newCapacity = oldCapacity + (oldCapacity &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ–°çš„æ•°ç»„å®¹é‡å¤Ÿä¸å¤Ÿ</span></span><br><span class="line">    <span class="comment">// å¤Ÿäº†å°±ç›´æ¥ä½¿ç”¨è¿™ä¸ªé•¿åº¦åˆ›å»ºæ–°æ•°ç»„</span></span><br><span class="line">    <span class="keyword">if</span> (newCapacity - minCapacity &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="comment">// ä¸å¤Ÿå°±å°†æ•°ç»„çš„é•¿åº¦è®¾ç½®ä¸ºéœ€è¦çš„é•¿åº¦</span></span><br><span class="line">        newCapacity = minCapacity;</span><br><span class="line">    <span class="comment">// æ£€æŸ¥æ­¤æ—¶çš„æœ€å¤§å€¼æ˜¯å¦æº¢å‡º</span></span><br><span class="line">    <span class="keyword">if</span> (newCapacity - MAX_ARRAY_SIZE &gt; <span class="number">0</span>)</span><br><span class="line">        newCapacity = hugeCapacity(minCapacity);</span><br><span class="line">    <span class="comment">// è°ƒç”¨Arrays.copyOf()å°†elementDataæ•°ç»„æ•°æ®æ‹·è´åˆ°æ–°æ•°ç»„</span></span><br><span class="line">    <span class="comment">// å¹¶å°†elementDataæŒ‡å‘æ–°æ•°ç»„newCapacityçš„å†…å­˜åœ°å€</span></span><br><span class="line">    elementData = Arrays.copyOf(elementData, newCapacity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ€»ç»“</strong>ï¼š  <code>ArrayList</code>æ‰©å®¹çš„æœ¬è´¨å°±æ˜¯è®¡ç®—æ‰€éœ€æ‰©å®¹sizeå¾—åˆ°æ–°çš„æ•°ç»„ï¼Œå°†åŸæ•°ç»„ä¸­çš„æ•°æ®å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ï¼Œæœ€åå°†åŸæ•°ç»„æŒ‡å‘æ–°æ•°ç»„åœ¨å †å†…å­˜çš„å¼•ç”¨åœ°å€å³å¯ã€‚</p>
<h2 id="HashMapå’ŒHashTableçš„åŒºåˆ«ï¼Ÿ"><a href="#HashMapå’ŒHashTableçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="HashMapå’ŒHashTableçš„åŒºåˆ«ï¼Ÿ"></a>HashMapå’ŒHashTableçš„åŒºåˆ«ï¼Ÿ</h2><ol>
<li><code>HashMap</code>å’Œ<code>HashTable</code>éƒ½å®ç°äº†<code>Map</code>æ¥å£ï¼Œä¸»è¦åŒºåˆ«åœ¨çº¿ç¨‹å®‰å…¨æ€§ã€åŒæ­¥ã€é€Ÿåº¦</li>
<li><strong>çº¿ç¨‹æ˜¯å¦å®‰å…¨</strong>ï¼š <code>HashMap</code>éåŒæ­¥çº¿ç¨‹ä¸å®‰å…¨ï¼Œ<code>HashTable</code>åŒæ­¥çº¿ç¨‹å®‰å…¨ã€‚<code>HashTable</code>å†…éƒ¨çš„æ–¹æ³•éƒ½ç»è¿‡<code>synchronized</code>ä¿®é¥°ã€‚</li>
<li><strong>æ•ˆç‡</strong>:  <code>HashMap</code>çº¿ç¨‹ä¸å®‰å…¨æ•ˆç‡é«˜ï¼Œ<code>HashTable</code>çº¿ç¨‹å®‰å…¨æ•ˆç‡ä½ã€‚</li>
<li><strong>å¯¹null keyå’Œnull valueçš„æ”¯æŒ</strong>ï¼š <code>HashMap</code>ä¸­ï¼Œ<code>null</code>å¯ä»¥ä½œä¸ºkeyï¼Œè¿™æ ·çš„keyåªæœ‰ä¸€ä¸ªï¼Œä½†å¯ä»¥æœ‰å¤šä¸ªkeyå¯¹åº”çš„å€¼ä¸ºnullï¼›åœ¨<code>HashTable</code>ä¸­çš„keyä¸èƒ½ä¸ºnull</li>
<li><strong>åº•å±‚æ•°æ®ç»“æ„</strong>ï¼š JDK1.8åçš„<code>HashMap</code>åœ¨è§£å†³å“ˆå¸Œå†²çªæ—¶æœ‰äº†è¾ƒå¤§çš„å˜åŒ–ï¼Œå½“é“¾è¡¨é•¿åº¦å¤§äºé˜€å€¼æ—¶ï¼ˆé»˜è®¤æ˜¯8ï¼‰ï¼Œå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œä»¥å‡å°‘æœç´¢æ—¶é—´ã€‚<code>HashTable</code>æ²¡æœ‰è¿™æ ·çš„æœºåˆ¶ã€‚</li>
</ol>
<h2 id="HashMapå’ŒHashSetåŒºåˆ«"><a href="#HashMapå’ŒHashSetåŒºåˆ«" class="headerlink" title="HashMapå’ŒHashSetåŒºåˆ«?"></a>HashMapå’ŒHashSetåŒºåˆ«?</h2><p><code>HashSet</code>åº•å±‚é‡‡ç”¨<code>HashMap</code>å®ç°</p>
<table>
<thead>
<tr>
<th>HashMap</th>
<th>HashSet</th>
</tr>
</thead>
<tbody><tr>
<td>å®ç°äº†Mapæ¥å£</td>
<td>å®ç°äº†Setæ¥å£</td>
</tr>
<tr>
<td>å‚¨å­˜é”®å€¼å †</td>
<td>ä»…å‚¨å­˜å¯¹è±¡</td>
</tr>
<tr>
<td>è°ƒç”¨<code>put()</code>å‘Mapä¸­æ·»åŠ å…ƒç´ </td>
<td>è°ƒç”¨<code>add()</code>å‘Setä¸­æ·»åŠ å…ƒç´ </td>
</tr>
<tr>
<td><code>HashMap</code>ä½¿ç”¨<code>Key</code>è®¡ç®—<code>HashCode</code></td>
<td><code>HashSet</code>ä½¿ç”¨æˆå‘˜å¯¹è±¡æ¥è®¡ç®—<code>hashCode</code>å€¼ï¼Œå¯¹äºä¸¤ä¸ªå¯¹è±¡æ¥è¯´ï¼Œ<code>hashCode</code>å¯èƒ½ç›¸åŒï¼Œæ‰€ä»¥ç”¨<code>equals</code>åˆ¤æ–­å¯¹è±¡çš„ç›¸ç­‰æ€§</td>
</tr>
</tbody></table>
<h2 id="HashSetå¦‚ä½•æ£€æŸ¥é‡å¤ï¼Ÿ"><a href="#HashSetå¦‚ä½•æ£€æŸ¥é‡å¤ï¼Ÿ" class="headerlink" title="HashSetå¦‚ä½•æ£€æŸ¥é‡å¤ï¼Ÿ"></a>HashSetå¦‚ä½•æ£€æŸ¥é‡å¤ï¼Ÿ</h2><p>åœ¨å‰é¢è®²<code>hashCode</code>å’Œ<code>equals</code>æ—¶å°±æåˆ°äº†ï¼Œ<code>HashSet</code>é›†åˆåŒæ ·é€‚ç”¨ã€‚å‘<code>HashSet</code>ä¸­å­˜å…¥ä¸€ä¸ªå…ƒç´ ï¼Œ<code>HashSet</code>é¦–å…ˆä¼šæ ¹æ®å¯¹è±¡çš„<code>hashCode</code>å€¼åˆ¤æ–­å½“æœŸé›†åˆä¸­æ­¤<code>hashCode</code>å¯¹åº”çš„ä½ç½®æœ‰æ²¡æœ‰å€¼ï¼Œå¦‚æœæ²¡æœ‰å°±ç›´æ¥æ·»åŠ ï¼Œå¦‚æœæœ‰å°±å†è°ƒç”¨<code>equals</code>æ–¹æ³•æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒï¼Œç›¸åŒå°±ä¸å†å‚¨å­˜ï¼ˆä¿è¯äº†<code>Set</code>é›†åˆä¸é‡å¤çš„ç‰¹æ€§ï¼‰ï¼Œå¦åˆ™å°±æ•£åˆ—åˆ°å…¶ä»–ä½ç½®å‚¨å­˜ã€‚</p>
<h2 id="HashMapåº•å±‚å®ç°ï¼Ÿ"><a href="#HashMapåº•å±‚å®ç°ï¼Ÿ" class="headerlink" title="HashMapåº•å±‚å®ç°ï¼Ÿ"></a>HashMapåº•å±‚å®ç°ï¼Ÿ</h2><p><code>Map</code>åœ¨Javaä¸­çš„å®ç°ç”±å¾ˆå¤šï¼Œ<code>HashMap</code>ä¾¿æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œéšç€JDKç‰ˆæœ¬çš„æ›´æ–°ï¼Œ<code>HashMap</code>çš„å®ç°ä¹Ÿåœ¨ä¸æ–­æ›´æ–°ï¼š</p>
<ul>
<li><strong>&lt;=JDK1.7</strong>:  Tableæ•°ç»„ + Entryé“¾è¡¨</li>
<li><strong>&gt;=JDK1.8</strong>:  Tableæ•°ç»„ + Entryé“¾è¡¨/çº¢é»‘æ ‘</li>
</ul>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a href="http://study.ikuvn.com/#/docs/zh-cn/java/data-structure/hashmap" target="_blank" rel="noopener">HashMap</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/21673805" target="_blank" rel="noopener">Java 8ç³»åˆ—ä¹‹é‡æ–°è®¤è¯†HashMap</a></li>
</ul>
<h3 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h3><p><strong>Hashï¼ˆå“ˆå¸Œã€æ•£åˆ—ï¼‰</strong>ï¼Œå°±æ˜¯æŠŠä»»æ„é•¿åº¦çš„è¾“å…¥é€šè¿‡æ•£åˆ—ç®—æ³•å˜æ¢æˆå›ºå®šé•¿åº¦çš„è¾“å‡ºï¼Œè¯¥è¾“å‡ºå°±æ˜¯æ•£åˆ—å€¼ã€‚</p>
<p>Hashå‡½æ•°çš„ä¸€ç§å®ç°ï¼š</p>
<ul>
<li><p><strong>ç›´æ¥å–ä½™æ³•</strong>ï¼š <code>f(x) = x mod max</code></p>
</li>
<li><p><strong>ä½è¿ç®—æ³•</strong>ï¼š <code>f(x) = x &amp; max</code></p>
</li>
</ul>
<p><code>HashMap</code>é‡‡ç”¨ <strong>ä½è¿ç®—æ³•</strong>ï¼Œç›¸æ¯”ç›´æ¥å–ä½™ï¼Œä½è¿ç®—ç›´æ¥å¯¹å†…å­˜ä¸­çš„äºŒè¿›åˆ¶æ•°æ®æ“ä½œï¼Œä¸éœ€è¦å†è½¬é˜¿æ¬¢ä¸ºåè¿›åˆ¶ï¼Œå› æ­¤å¤„ç†é€Ÿåº¦å¾ˆå¿«ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">7</span> &amp; <span class="number">33</span> = <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="number">000111</span></span><br><span class="line">  &amp; <span class="number">100001</span></span><br><span class="line">  --------</span><br><span class="line">    <span class="number">000001</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="Hashå†²çª"><a href="#Hashå†²çª" class="headerlink" title="Hashå†²çª"></a>Hashå†²çª</h3><p>å‡è®¾å°†100ä¸ªæ•°æ®é€šè¿‡Hashæ•£åˆ—åå­˜å‚¨åˆ°10ä¸ªä¸åŒçš„å®¹å™¨ä¸­ï¼Œå¿…å®šä¼šå‡ºç°å¤šä¸ªå…ƒç´ åˆ†å¸ƒåˆ°åŒä¸€ä¸ªå®¹å™¨ä¸­ã€‚å…·ä½“åˆ°<code>HashMap</code>é›†åˆä¸­ï¼Œè‹¥å°†å¤šä¸ª<code>K-V</code>æ•°æ®å­˜å…¥<code>put</code>ï¼Œ<code>HashMap</code>æ ¹æ®å…ƒç´ <code>key</code>è®¡ç®—åˆ°å¯¹åº”çš„<code>hashCode</code>å€¼ï¼Œå¦‚æœè®¡ç®—å¾—åˆ°å¤šä¸ªä¸åŒçš„<code>key</code>å¯¹åº”çš„<code>hashCode</code>å€¼ç›¸åŒï¼ˆå³è¦å‚¨å­˜åˆ°åŒä¸€ä½ç½®ï¼‰ï¼Œæ­¤æ—¶è¿™ç§ç°è±¡å°±ç§°ä¸º <strong>Hashå†²çª</strong>ã€‚</p>
<p><code>HashMap</code>é»˜è®¤é‡‡ç”¨äº† <strong>é“¾åœ°å€æ³•</strong> è§£å†³Hashå†²çªé—®é¢˜ï¼Œå³é€šè¿‡ç±»ä¼¼å•é“¾è¡¨çš„æ–¹å¼å°† <strong>å†²çªçš„å…ƒç´ </strong> ä¸²èµ·æ¥ï¼Œæœç´¢æ—¶éå†è¿™ä¸ªé“¾è¡¨å³å¯ã€‚<strong>æ³¨æ„</strong>ï¼š å¦‚æœå†²çªçš„Hashè¶Šæ¥è¶Šå¤šï¼Œè¿™ä¸ªé“¾å°±ä¼šè¶Šæ¥è¶Šé•¿ã€‚</p>
<h3 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h3><p><img src="http://cdn.tycoding.cn/8db4a3bdfb238da1a1c4431d2b6e075c_hd.png" alt></p>
<p>è¿™é‡Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸¤ä¸ªåè¯ï¼š</p>
<ul>
<li><strong>Table</strong>: å“ˆå¸Œæ¡¶æ•°ç»„ï¼ˆå“ˆå¸Œè¡¨ï¼‰ï¼Œå­˜æ”¾Nodeå…ƒç´ ï¼Œåº•å±‚æ˜¯ä¸€ä¸ª<code>Node[] table</code></li>
<li><strong>Node</strong>: èŠ‚ç‚¹å…ƒç´ ï¼ŒNodeæ˜¯HashMapçš„ä¸€ä¸ªå†…éƒ¨ç±»ï¼Œå®ç°äº†<code>Map.Entry</code>æ¥å£ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªæ˜ å°„ï¼ˆK-Vï¼‰</li>
</ul>
<p><code>HashMap</code>å†…éƒ¨çš„ä¸€äº›å…³é”®å±æ€§éœ€è¦äº†è§£ï¼š</p>
<ul>
<li><code>DEFAULT_INITIAL_CAPACITY</code>: Tabaleæ•°ç»„çš„åˆå§‹åŒ–é•¿åº¦ï¼Œé»˜è®¤æ˜¯<code>1 &lt;&lt; 4</code>ï¼Œ<code>2^4 = 16</code></li>
<li><code>MAXIMUM_CAPACITY</code>: Tableæ•°ç»„æœ€é«˜é•¿åº¦ï¼Œé»˜è®¤ä¸º<code>1 &lt;&lt; 30</code>ï¼Œ<code>2^30 = 1073741824</code></li>
<li><code>DEFAULT_LOAD_FACTOR</code>: è´Ÿè½½å› å­ï¼Œå½“æ€»å…ƒç´ æ•° &gt; æ•°ç»„é•¿åº¦ * è´Ÿè½½å› å­æ—¶ï¼ŒTableæ•°ç»„å°†æ‰©å®¹ï¼Œé»˜è®¤æ˜¯0.75</li>
<li><code>TREEIFY_THRESHOLD</code>: æ ‘åŒ–é˜€å€¼ï¼Œå½“å•ä¸ªTableå†…Nodeæ•°é‡è¶…è¿‡è¯¥å€¼ï¼Œåˆ™å°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œé»˜è®¤æ˜¯8</li>
<li><code>UNTREEIFY_THRESHOLD</code>: é“¾åŒ–é˜€å€¼ï¼Œå½“æ‰©å®¹æœŸé—´å•ä¸ªTableçš„Entryæ•°é‡å°äºè¯¥å€¼ï¼Œåˆ™å°†çº¢é»‘æ•°è½¬æ¢ä¸ºé“¾è¡¨ï¼Œé»˜è®¤ä¸º6</li>
<li><code>MIN_TREEIFY_CAPACITY</code>: æœ€å°æ ‘åŒ–é˜€å€¼ï¼Œå½“Tableä¸­æ‰€æœ‰å…ƒç´ è¶…è¿‡è¯¥å€¼ï¼Œæ‰ä¼šè¿›è¡Œæ ‘åŒ–</li>
<li><code>size</code>: å½“å‰HashMapå®é™…å­˜åœ¨çš„é”®å€¼å¯¹æ•°é‡</li>
<li><code>threshold</code>: HashMapæ‰€èƒ½å®¹çº³çš„æœ€å¤§æ•°æ®é‡çš„Nodeï¼ˆé”®å€¼å¯¹ï¼‰ä¸ªæ•°ã€‚<code>Node[] table</code>åˆå§‹åŒ–é•¿åº¦lengthæ˜¯16ï¼Œ<code>loadFactor</code>è´Ÿè½½å› å­é»˜è®¤æ˜¯0.75ï¼Œ<code>threshold = length * loadFactor</code></li>
<li><code>loadFactor</code>: è´Ÿè½½å› å­ï¼Œé»˜è®¤æ˜¯0.17</li>
<li><code>modCount</code>: è®°å½•HashMapå†…éƒ¨ç»“æ„å‘ç”Ÿå˜åŒ–çš„æ¬¡æ•°</li>
</ul>
<p><code>HashMap</code>å†…éƒ¨å­˜åœ¨ä¸€ä¸ª<code>Node</code>Tableæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„çš„åˆå§‹åŒ–é•¿åº¦æ˜¯<code>DEFAULT_INITIAL_CAPACITY</code>ï¼Œä»–æ˜¯ä¸€ä¸ªå•å‘é“¾è¡¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> hash; <span class="comment">//keyçš„Hashå€¼</span></span><br><span class="line">    <span class="keyword">final</span> K key; <span class="comment">//key</span></span><br><span class="line">    V value; <span class="comment">//value</span></span><br><span class="line">    Node&lt;K,V&gt; next; <span class="comment">//ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒå•é“¾è¡¨çš„ç»“æ„ï¼ŒTableä¸­æ¯ä¸ª<code>Node</code>èŠ‚ç‚¹åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼ŒNodeå…ƒç´ ä½œä¸ºèŠ‚ç‚¹çš„<code>header</code>ï¼Œ<code>next</code>æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚<strong>è¿™ç§é“¾å¼ç»“æ„çš„å­˜åœ¨æ­£æ˜¯ä¸ºäº†è§£å†³Hashå†²çª</strong></p>
<blockquote>
<p>  <strong>Hashå†²çª</strong>ï¼š ä¸¤ä¸ªå…ƒç´ ç»è¿‡Hashæ•£åˆ—åè¢«åˆ†åˆ°åŒä¸€ä¸ªç»„å†…ï¼ˆä¸¤ä¸ªå…ƒç´ <code>hashCode</code>ç›¸åŒï¼Œ<code>key</code>å´ä¸åŒï¼‰ï¼Œæˆ‘ä»¬å°†å…¶è§£é‡Šä¸ºHashå†²çªã€‚</p>
</blockquote>
<p>æ —å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map.put(<span class="string">"tycoding"</span>, <span class="string">"18"</span>);</span><br></pre></td></tr></table></figure>

<p><code>HashMap</code>å°†æ ¹æ®<code>&quot;tycoding&quot;</code>è¿™ä¸ªKeyå¾—åˆ°å…¶<code>hashCode</code>å€¼ï¼Œç„¶åç»è¿‡Hashç®—æ³•å®šä½åˆ°å…¶åœ¨<code>HashMap</code>å‚¨å­˜çš„ä½ç½®ï¼Œå¦‚æœä¸¤ä¸ªä¸åŒçš„<code>key</code>å®šä½åˆ°äº†åŒä¸€ä¸ªä½ç½®ï¼Œæ­¤æ—¶å°±å‘ç”Ÿäº†Hashå†²çªã€‚</p>
<p>åœ¨JDK1.7ä¹‹å‰ï¼Œè§£å†³Hashå†²çªçš„æ–¹å¼æ˜¯å°†å†²çªçš„NodeèŠ‚ç‚¹æ”¾åœ¨ä¸€ä¸ªé“¾è¡¨ä¸­ã€‚åœ¨JDK1.8ä¸­ï¼Œå½“Tableä¸­é“¾é•¿è¶…è¿‡<code>TREEIFY_THRESHOLD</code>é˜€å€¼åï¼Œä¼šå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘çš„å®ç°<code>TreeNode</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">LinkedHashMap</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    TreeNode&lt;K,V&gt; parent;  <span class="comment">// red-black tree links</span></span><br><span class="line">    TreeNode&lt;K,V&gt; left;</span><br><span class="line">    TreeNode&lt;K,V&gt; right;</span><br><span class="line">    TreeNode&lt;K,V&gt; prev;    <span class="comment">// needed to unlink next upon deletion</span></span><br><span class="line">    <span class="keyword">boolean</span> red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“å‘ç”Ÿ<strong>Hashå†²çª</strong>æ—¶ï¼Œæ ¹æ®HashMapé»˜è®¤é‡‡ç”¨çš„ <strong>é“¾åœ°å€æ³•</strong>ï¼Œå³å°†å†²çªçš„Hashä¸²æˆä¸€ä¸ªé“¾å¼ç»“æ„å‚¨å­˜åˆ°HashMapå¯¹åº”çš„ä½ç½®ã€‚<strong>ä½†æ˜¯</strong> éšç€Hashå†²çªè¶Šæ¥è¶Šå¤šï¼Œè¿™ä¸ª<strong>é“¾å°†è¶Šæ¥è¶Šé•¿</strong>ï¼Œè¿™å°±å°†å¯¼è‡´éå†ç¢°æ’keyæ—¶çš„æ¶ˆè€—ä¸æ–­å¢åŠ ï¼Œä¹Ÿå°±ç›´æ¥å¯¼è‡´äº†æ€§èƒ½çš„ä¸è¶³ã€‚åœ¨JDK1.8åï¼ŒHashMapå¯¹å•ä¸ªTableä¸­çš„Nodeè¶…å‡ºæŸä¸ªé˜€å€¼åï¼Œå°†å¼€å§‹æ ‘åŒ–æ“ä½œï¼ˆé“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼‰ï¼Œè¿™å¯¹æœç´¢çš„æ€§èƒ½å°†ä¼šæœ‰å¾ˆå¤§çš„æå‡ã€‚</p>
<p><img src="http://cdn.tycoding.cn/JDK1.8%E4%B9%8B%E5%90%8E%E7%9A%84HashMap%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.jpg" alt></p>
<p><strong>æ€»ç»“</strong></p>
<p>åˆ°æ­¤ï¼Œæˆ‘ä»¬æ€»ç»“ä¸€ä¸‹HashMapçš„å®ç°åŸç†ï¼š</p>
<ul>
<li><code>HashMap</code>æ ¹æ®keyçš„<code>hashCode</code>å€¼å­˜å‚¨å…ƒç´ ã€‚<code>put</code>æ–°å…ƒç´ ä¼šéå†é“¾è¡¨ï¼Œæ ¹æ®æ–°å…ƒç´ çš„<code>key</code>è®¡ç®—<code>hashCode</code>å¾—åˆ°æ•£åˆ—ä½ç½®ï¼Œå¦‚æœè¯¥ä½ç½®æœ‰å€¼å†è°ƒç”¨<code>equals</code>åˆ¤æ–­<code>value</code>æ˜¯å¦ç›¸åŒï¼Œç›¸åŒå°±æ•£åˆ—åˆ°å…¶ä»–ä½ç½®å‚¨å­˜ã€‚</li>
<li><code>HashMap</code>åœ¨<code>put</code>æ–°å…ƒç´ æ—¶å¦‚æœé‡åˆ°<code>key</code>å¯¹åº”çš„<code>hashCode</code>ç›¸åŒï¼Œå¯èƒ½ä¼šäº§ç”ŸHashå†²çªé—®é¢˜ã€‚<code>HashMap</code>çš„åšæ³•æ˜¯é‡‡ç”¨é“¾å¼ç»“æ„ï¼ˆé“¾è¡¨ï¼‰å‚¨å­˜å­˜åœ¨Hashå†²çªçš„å…ƒç´ ï¼ŒæŸ¥è¯¢æ—¶å†éå†è¿™ä¸ªé“¾æ¥ç»“æ„å…ƒç´ é›†åˆå³å¯ã€‚</li>
<li>å¦‚æœå‘ç”ŸHashå†²çªçš„å…ƒç´ å¾ˆå¤šï¼Œè¿™ä¸ª <strong>é“¾</strong> å°†å¾ˆé•¿ï¼Œå½±å“åˆ°éå†keyæ¶ˆè€—æ€§èƒ½çš„å¢åŠ ï¼Œäºæ˜¯åˆ¤æ–­å½“Tableä¸­NodeèŠ‚ç‚¹å¤§äºé»˜è®¤å€¼8æ—¶ï¼Œå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼ˆ<code>TreeNode</code>ï¼‰å­˜å‚¨å…ƒç´ ã€‚</li>
</ul>
<h2 id="Collectionå’ŒCollectionsçš„åŒºåˆ«ï¼Ÿ"><a href="#Collectionå’ŒCollectionsçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="Collectionå’ŒCollectionsçš„åŒºåˆ«ï¼Ÿ"></a>Collectionå’ŒCollectionsçš„åŒºåˆ«ï¼Ÿ</h2><ul>
<li><code>Collection</code>æ˜¯é›†åˆç±»çš„ä¸Šçº§æ¥å£ï¼Œç»§æ‰¿ä»–çš„æ¥å£ä¸»è¦æœ‰<code>Set</code>å’Œ<code>List</code></li>
<li><code>Collections</code>ä»…æ˜¯é’ˆå¯¹é›†åˆç±»å°è£…çš„ä¸€ä¸ªå·¥å…·ç±»ï¼Œåœ¨<code>java.util</code>åŒ…ä¸‹</li>
</ul>
<h2 id="Comparableå’ŒComparatorçš„åŒºåˆ«ï¼Ÿ"><a href="#Comparableå’ŒComparatorçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="Comparableå’ŒComparatorçš„åŒºåˆ«ï¼Ÿ"></a>Comparableå’ŒComparatorçš„åŒºåˆ«ï¼Ÿ</h2><ul>
<li><code>Comparable</code>æ¥å£æ¥è‡ª<code>java.lang</code>åŒ…ï¼Œæä¾›<code>compareTo(Object obj)</code> æ–¹æ³•æ’åº</li>
<li><code>Comparator</code>æ¥å£æ¥è‡ª<code>java.util</code>åŒ…ï¼Œæä¾›<code>compare(Object obj1, Object obj2)</code>æ–¹æ³•æ’åº</li>
</ul>
<p>å½“éœ€è¦å¯¹ä¸€ä¸ªé›†åˆé‡‡ç”¨ä¸€ç§æ–¹å¼æ’åºï¼Œä½¿ç”¨<code>Comparable</code>æ¥å£ï¼›å¦‚æœéœ€è¦å¯¹ä¸€ä¸ªé›†åˆé‡‡ç”¨ä¸¤ç§æ’åºæ–¹å¼å°±ä½¿ç”¨<code>Comparator</code>æ¥å£ã€‚</p>
<h2 id="Javaé›†åˆæ¡†æ¶æ€»ç»“"><a href="#Javaé›†åˆæ¡†æ¶æ€»ç»“" class="headerlink" title="Javaé›†åˆæ¡†æ¶æ€»ç»“"></a>Javaé›†åˆæ¡†æ¶æ€»ç»“</h2><h3 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h3><p><img src="http://cdn.tycoding.cn/QQ20190623-181246.png" alt></p>
<h4 id="List"><a href="#List" class="headerlink" title="List"></a>List</h4><ul>
<li><strong>ArrayList</strong>:  Objectæ•°ç»„ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼ŒæŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢ï¼Œæ•ˆç‡é«˜</li>
<li><strong>Vector</strong>:  Objectæ•°ç»„ï¼Œçº¿ç¨‹å®‰å…¨ï¼ŒæŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢ï¼Œæ•ˆç‡ä½</li>
<li><strong>LinkedList</strong>:  åŒå‘é“¾è¡¨ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼ŒæŸ¥è¯¢æ…¢ï¼Œå¢åˆ å¿«ï¼Œæ•ˆç‡é«˜</li>
</ul>
<h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><ul>
<li><strong>HashSet</strong>: æ— åºã€å”¯ä¸€ï¼ŒåŸºäºHashMapå®ç°ï¼Œåº•å±‚é‡‡ç”¨HashMapå­˜å‚¨å…ƒç´ </li>
<li><strong>LinkedHashSet</strong>: LinkedHashSetç»§æ‰¿è‡ªHashSetï¼Œå¹¶ä¸”å…¶å†…éƒ¨é€šè¿‡LinkedHashMapå®ç°</li>
<li><strong>TreeSet</strong> æœ‰åºã€å”¯ä¸€ï¼Œçº¢é»‘æ ‘</li>
</ul>
<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p><img src="http://cdn.tycoding.cn/QQ20190623-181259.png" alt></p>
<ul>
<li><strong>HashMap</strong>: JDK1.8ä¹‹å‰HashMapç”±æ•°ç»„å’Œé“¾è¡¨ç»„æˆï¼Œæ•°ç»„æ—¶HashMapçš„ä¸»ä½“ï¼Œé“¾è¡¨æ˜¯ä¸ºäº†è§£å†³Hashå†²çªé—®é¢˜ã€‚JDK1.8ä¹‹åå½“Tableä¸­Nodeæ•°é‡å¤§äº8æ—¶ï¼Œå°±å°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œä»¥å‡å°‘æœç´¢æ—¶é—´æé«˜æ•ˆç‡ã€‚</li>
<li><strong>LinkedHashMap</strong>: LinkedHashMapç»§æ‰¿è‡ªHashMapï¼Œæ‰€æœ‰ä»–çš„åº•å±‚ä»ç„¶ç”±æ•°ç»„å’Œé“¾è¡¨/çº¢é»‘æ ‘å®ç°ã€‚å¦å¤–ï¼ŒLinkedHashMapåœ¨ä¸Šé¢çš„ç»“æ„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†ä¸€æ¡åŒå‘é“¾è¡¨ï¼Œä½¿å¾—ä¸Šé¢çš„ç»“æ„å¯ä»¥ä¿æŒé”®å€¼å¯¹çš„æ’å…¥é¡ºåºã€‚</li>
<li><strong>HashTable</strong>:  æ•°ç»„+é“¾è¡¨ç»„æˆã€‚æ•°ç»„æ—¶HashTableçš„ä¸»ä½“ï¼Œé“¾è¡¨æ˜¯ä¸ºäº†è§£å†³Hashå†²çªé—®é¢˜</li>
<li><strong>TreeMap</strong>:  çº¢é»‘æ ‘</li>
</ul>
<h1 id="Javaå¹¶å‘"><a href="#Javaå¹¶å‘" class="headerlink" title="Javaå¹¶å‘"></a>Javaå¹¶å‘</h1><h2 id="çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ"><a href="#çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ"></a>çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ</h2><ul>
<li>è¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæ˜¯ç³»ç»Ÿè¿è¡Œç¨‹åºçš„åŸºæœ¬å•ä½</li>
<li>çº¿ç¨‹ä¸è¿›ç¨‹ç±»ä¼¼ï¼Œä½†çº¿ç¨‹æ˜¯ä¸€ä¸ªæ¯”è¿›ç¨‹æ›´å°çš„æ‰§è¡Œå•ä½ã€‚ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥äº§ç”Ÿå¤šä¸ªçº¿ç¨‹ï¼Œ</li>
</ul>
<p>åœ¨Javaä¸­ï¼Œå¯ç”¨ä¸€ä¸ª<code>main</code>æ–¹æ³•å°±æ˜¯å¯åŠ¨äº†ä¸€ä¸ªJVMè¿›ç¨‹ï¼Œè€Œ<code>main</code>å‡½æ•°æ‰€åœ¨çš„çº¿ç¨‹å°±æ˜¯è¿™ä¸ªè¿›ç¨‹ä¸­çš„ä¸€ä¸ªçº¿ç¨‹ï¼Œä¹Ÿç§°ä¸ºä¸»çº¿ç¨‹ã€‚</p>
<h2 id="ä»JVMè§’åº¦åˆ†æè¿›ç¨‹å’Œçº¿ç¨‹çš„å…³ç³»ï¼Ÿ"><a href="#ä»JVMè§’åº¦åˆ†æè¿›ç¨‹å’Œçº¿ç¨‹çš„å…³ç³»ï¼Ÿ" class="headerlink" title="ä»JVMè§’åº¦åˆ†æè¿›ç¨‹å’Œçº¿ç¨‹çš„å…³ç³»ï¼Ÿ"></a>ä»JVMè§’åº¦åˆ†æè¿›ç¨‹å’Œçº¿ç¨‹çš„å…³ç³»ï¼Ÿ</h2><p>æ ¹æ®JVMçš„å†…å­˜åˆ’åˆ†ï¼Œå¯¹äºçº¿ç¨‹è€Œè¨€ï¼šå¤šä¸ªçº¿ç¨‹<strong>å…±äº«è¿›ç¨‹çš„å †ã€æ–¹æ³•åŒºèµ„æº</strong>ï¼Œä½†æ¯ä¸ªçº¿ç¨‹åˆæœ‰è‡ªå·±çš„ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆã€‚</p>
<p><img src="https://www.tycoding.cn/2019/05/09/jvm/jvm-start/QQ20190503-095731.png" alt></p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªJVMè¿›ç¨‹ä¸­ï¼Œå¯ä»¥å­˜åœ¨å¤šä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½å…±äº«äº†è¿™ä¸ªJVMè¿›ç¨‹çš„æ–¹æ³•åŒºã€å †ï¼›å¹¶ä¸”æ¯ä¸ªçº¿ç¨‹åˆéƒ½å…·æœ‰è‡ªå·±çš„è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆã€ç¨‹åºè®¡æ•°å™¨ç­‰ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆæ–¹æ³•åŒºå’Œå †æ˜¯çº¿ç¨‹å…±äº«åŒºï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæ–¹æ³•åŒºå’Œå †æ˜¯çº¿ç¨‹å…±äº«åŒºï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæ–¹æ³•åŒºå’Œå †æ˜¯çº¿ç¨‹å…±äº«åŒºï¼Ÿ"></a>ä¸ºä»€ä¹ˆæ–¹æ³•åŒºå’Œå †æ˜¯çº¿ç¨‹å…±äº«åŒºï¼Ÿ</h3><ul>
<li><strong>æ–¹æ³•åŒºï¼ˆMethod Areaï¼‰</strong> å­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ç­‰æ•°æ®ã€‚æ–¹æ³•åŒºä¸­åˆåŒ…å« <strong>è¿è¡Œæ—¶å¸¸é‡æ± </strong> ï¼Œè¿™éƒ¨åˆ†åŒºåŸŸå‚¨å­˜Classæ–‡ä»¶ä¿¡æ¯å’Œç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ã€‚</li>
<li><strong>å †ï¼ˆHeapï¼‰</strong>  å †å†…å­˜å‚¨å­˜äº†å¯¹è±¡å®ä¾‹ï¼ˆæ¯”å¦‚<code>new</code>å…³é”®å­—åˆ›å»ºçš„å®ä¾‹å¯¹è±¡ï¼‰ï¼Œå®ƒæ˜¯JVMä¸­å†…å­˜åŒºæœ€å¤§çš„ä¸€å—åŒºåŸŸã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œä¸€ä¸ªè¿›ç¨‹çš„å¯åŠ¨å¯èƒ½åŒ…å«äº†å¤šä¸ªçº¿ç¨‹ï¼Œè€Œè¿™ä¸ªè¿›ç¨‹ä¸­çš„é™æ€å˜é‡ç­‰éƒ½æ˜¯éšç€ç±»åŠ è½½è€ŒåŠ è½½çš„ï¼Œä»–åº”è¯¥ä¸å±äºæŸä¸ªçº¿ç¨‹ç‹¬æœ‰ï¼Œæ‰€ä»¥å°†å…¶å­˜å‚¨äºæ–¹æ³•åŒºä¸­ã€‚å¯¹è±¡å®ä¾‹éƒ½å‚¨å­˜åœ¨Javaå †å†…å­˜ä¸­ï¼Œä½œä¸ºJavaæœ€å¤§çš„ä¸€å—å†…å­˜åŒºåŸŸï¼Œè‚¯å®šä¸èƒ½æ˜¯æŸä¸ªçº¿ç¨‹ç‹¬å çš„ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆè™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæ˜¯çº¿ç¨‹ç‹¬å åŒºï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæ˜¯çº¿ç¨‹ç‹¬å åŒºï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæ˜¯çº¿ç¨‹ç‹¬å åŒºï¼Ÿ"></a>ä¸ºä»€ä¹ˆè™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæ˜¯çº¿ç¨‹ç‹¬å åŒºï¼Ÿ</h3><ul>
<li><strong>è™šæ‹Ÿæœºæ ˆ</strong>ï¼š æ¯ä¸ªJavaæ–¹æ³•æ‰§è¡Œçš„åŒæ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§å‚¨å­˜å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€æ–¹æ³•å‡ºå£ç­‰ã€‚ä»æ–¹æ³•çš„æ‰§è¡Œåˆ°ç»“æŸï¼Œå¯¹åº”å°†æ ˆå¸§å‹å…¥Javaè™šæ‹Ÿæœºæ ˆå’Œä»è™šæ‹Ÿæœºæ ˆä¸­å¼¹å‡ºçš„è¿‡ç¨‹ã€‚</li>
<li><strong>æœ¬åœ°æ–¹æ³•æ ˆ</strong>ï¼š æœ¬åœ°æ–¹æ³•æ ˆç±»ä¼¼Javaè™šæ‹Ÿæœºæ ˆï¼Œåªä¸è¿‡Javaè™šæ‹Ÿæœºæ ˆä¸ºè™šæ‹Ÿæœºæ‰§è¡ŒJavaæ–¹æ³•æœåŠ¡ï¼Œè€Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™ä¸ºè™šæ‹Ÿæœºä½¿ç”¨åˆ°çš„<code>native</code>æ–¹æ³•æœåŠ¡ã€‚</li>
</ul>
<h3 id="ç¨‹åºè®¡æ•°å™¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ç¨‹åºè®¡æ•°å™¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ç¨‹åºè®¡æ•°å™¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ç¨‹åºè®¡æ•°å™¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p><strong>ç¨‹åºè®¡æ•°å™¨ï¼ˆProgram Counter Registerï¼‰</strong>ï¼šå½“å‰çº¿ç¨‹æ‰§è¡Œçš„å­—èŠ‚ç çš„è¡Œå·æŒ‡ç¤ºå™¨ã€‚æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨ã€‚æ­¤å†…å­˜åŒºåŸŸæ˜¯Javaè™šæ‹Ÿæœºä¸­å”¯ä¸€ä¸€ä¸ªæ²¡æœ‰ä»»ä½•OutOfMemoryErroræƒ…å†µçš„åŒºåŸŸã€‚</p>
<h2 id="è¯´è¯´å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«ï¼Ÿ"><a href="#è¯´è¯´å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="è¯´è¯´å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«ï¼Ÿ"></a>è¯´è¯´å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«ï¼Ÿ</h2><ul>
<li><strong>å¹¶è¡Œ</strong>ï¼š åŒä¸€æ—¶é—´æ®µï¼Œå¤šä¸ªä»»åŠ¡éƒ½åœ¨æ‰§è¡Œï¼ˆå•ä½æ—¶é—´å†…ä¸ä¸€å®šåŒæ—¶æ‰§è¡Œï¼‰</li>
<li><strong>å¹¶å‘</strong>ï¼š å•ä½æ—¶é—´å†…ï¼Œå¤šä¸ªä»»åŠ¡åŒæ—¶æ‰§è¡Œã€‚</li>
</ul>
<h2 id="ä½¿ç”¨å¤šçº¿ç¨‹å¯èƒ½å¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><a href="#ä½¿ç”¨å¤šçº¿ç¨‹å¯èƒ½å¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Ÿ" class="headerlink" title="ä½¿ç”¨å¤šçº¿ç¨‹å¯èƒ½å¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Ÿ"></a>ä½¿ç”¨å¤šçº¿ç¨‹å¯èƒ½å¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h2><p>å¹¶å‘ç¼–ç¨‹çš„ç›®çš„å°±æ˜¯æé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ï¼Œä½†å¹¶å‘ç¼–ç¨‹å¯èƒ½é€ æˆï¼šå†…å­˜æ³„æ¼ã€ä¸Šä¸‹æ–‡åˆ‡æ¢ã€æ­»é”ç­‰é—®é¢˜</p>
<h2 id="è¯´è¯´çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€ï¼Ÿ"><a href="#è¯´è¯´çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€ï¼Ÿ" class="headerlink" title="è¯´è¯´çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€ï¼Ÿ"></a>è¯´è¯´çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€ï¼Ÿ</h2><table>
<thead>
<tr>
<th>çŠ¶æ€åç§°</th>
<th>çŠ¶æ€è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><strong>new</strong></td>
<td>åˆå§‹çŠ¶æ€ï¼Œçº¿ç¨‹è¢«åˆ›å»ºï¼Œä½†è¿˜æ²¡æœ‰è°ƒç”¨<code>start()</code>æ–¹æ³•</td>
</tr>
<tr>
<td><strong>runnable</strong></td>
<td>è¿è¡ŒçŠ¶æ€ï¼ŒJavaçº¿ç¨‹å°†æ“ä½œç³»ç»Ÿä¸­å°±ç»ªå’Œè¿è¡Œä¸¤ç§çŠ¶æ€ç»Ÿç§°ä¸ºâ€œè¿è¡Œä¸­â€</td>
</tr>
<tr>
<td><strong>blocked</strong></td>
<td>é˜»å¡çŠ¶æ€ï¼Œè¡¨ç¤ºçº¿ç¨‹é˜»å¡äºé”</td>
</tr>
<tr>
<td><strong>waiting</strong></td>
<td>ç­‰å¾…çŠ¶æ€ï¼Œçº¿ç¨‹éœ€è¦ç­‰å¾…å½“å‰çº¿ç¨‹æˆ–å…¶ä»–çº¿ç¨‹æ‰§è¡Œå®Œæˆ</td>
</tr>
<tr>
<td><strong>time_waiting</strong></td>
<td>è¶…æ—¶ç­‰å¾…çŠ¶æ€ï¼Œä»–å¯ä»¥å®ç°åœ¨æŒ‡å®šæ—¶é—´åè‡ªåŠ¨è¿”å›</td>
</tr>
<tr>
<td><strong>terminated</strong></td>
<td>ç»ˆæ­¢çŠ¶æ€ï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹å·²ç»æ‰§è¡Œå®Œæ¯•</td>
</tr>
</tbody></table>
<p>å¯¹åº”ï¼Œç¨‹åºä¼šå› ä¸ºä¸åŒä»£ç çš„æ‰§è¡Œäº§ç”Ÿä¸åŒçš„çŠ¶æ€ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="http://cdn.tycoding.cn/Java+%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81%E5%8F%98%E8%BF%81.png" alt></p>
<p>å¦‚ä¸Šï¼Œçº¿ç¨‹åˆ›å»ºåå°†è¿›å…¥<strong>NEWï¼ˆåˆå§‹ï¼‰</strong>çŠ¶æ€ï¼Œè°ƒç”¨<code>start()</code>å¼€å§‹è¿è¡Œï¼Œå½“çº¿ç¨‹æ‰§è¡Œ<code>wait()</code>æ–¹æ³•åï¼Œçº¿ç¨‹å°†è¿›å…¥<strong>WAITINGï¼ˆç­‰å¾…ï¼‰</strong>çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡<code>wait(long)</code>æˆ–<code>join(long)</code>ç­‰æ–¹æ³•ç»ˆæ­¢ç­‰å¾…çŠ¶æ€ï¼›å½“çº¿ç¨‹è°ƒç”¨åŒæ­¥æ–¹æ³•æ—¶ï¼Œåœ¨æ²¡æœ‰è·å–åˆ°é”çš„æƒ…å†µä¸‹ï¼Œçº¿ç¨‹å°†ä¼šè¿›å…¥åˆ°<strong>BLOCKEDï¼ˆé˜»å¡ï¼‰</strong>çŠ¶æ€ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Ÿ</h2><p>ç®€å•æ¥è¯´ï¼Œå¹¶å‘ç¼–ç¨‹ä¸­å®é™…çº¿ç¨‹çš„æ•°é‡éƒ½å¯èƒ½å¤§äºCPUæ ¸å¿ƒçš„ä¸ªæ•°ï¼Œè€ŒCOUä¸€ä¸ªæ ¸å¿ƒåœ¨ä»»æ„æ—¶åˆ»åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ï¼ŒCPUä¸ºäº†ä¿è¯å¹¶å‘çš„çº¿ç¨‹éƒ½æœ‰è¢«æ‰§è¡Œï¼Œé‡‡ç”¨<strong>éšæœºåˆ†é…æ—¶é—´ç‰‡å¹¶è½®è½¬</strong>çš„æ–¹å¼ï¼›è€Œä¸€ä¸ªçº¿ç¨‹çš„æ—¶é—´ç‰‡ç”¨æˆ·å°†ä¿å­˜å¹¶è¿›å…¥å°±ç»ªçŠ¶æ€ç›´åˆ°ä¸‹æ¬¡åˆ†é…æ—¶é—´ç‰‡å†æ‰§è¡Œï¼Œè¿™ä¸ª <strong>ä»»åŠ¡ä»ä¿å­˜åˆ°å†åŠ è½½çš„è¿‡ç¨‹å°±æ˜¯ä¸€æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢</strong>ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯æ­»é”ï¼Ÿå¦‚ä½•é¿å…"><a href="#ä»€ä¹ˆæ˜¯æ­»é”ï¼Ÿå¦‚ä½•é¿å…" class="headerlink" title="ä»€ä¹ˆæ˜¯æ­»é”ï¼Ÿå¦‚ä½•é¿å…?"></a>ä»€ä¹ˆæ˜¯æ­»é”ï¼Ÿå¦‚ä½•é¿å…?</h2><p>ä¸¾ä¾‹ï¼šçº¿ç¨‹AæŒæœ‰èµ„æº2ï¼Œçº¿ç¨‹BæŒæœ‰èµ„æº1ï¼Œåœ¨çº¿ç¨‹Aã€Béƒ½æ²¡æœ‰é‡Šæ”¾è‡ªå·±æ‰€æŒæœ‰èµ„æºçš„æƒ…å†µä¸‹ï¼ˆé”æœªé‡Šæ”¾ï¼‰ï¼Œä»–ä»¬éƒ½æƒ³åŒæ—¶è·å–å¯¹æ–¹çš„èµ„æºï¼Œå› ä¸ºèµ„æº1ã€2éƒ½è¢«é”å®šï¼Œä¸¤ä¸ªçº¿ç¨‹éƒ½ä¼šè¿›å…¥ç›¸äº’ç­‰å¾…çš„æƒ…å†µï¼Œè¿™ç§æƒ…å†µç§°ä¸ºæ­»é”ã€‚</p>
<p><img src="http://cdn.tycoding.cn/2019-4%E6%AD%BB%E9%94%811.png" alt></p>
<p>æ —å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeadLockDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Object resource1 = <span class="keyword">new</span> Object();<span class="comment">//èµ„æº 1</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Object resource2 = <span class="keyword">new</span> Object();<span class="comment">//èµ„æº 2</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (resource1) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread() + <span class="string">"get resource1"</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(Thread.currentThread() + <span class="string">"waiting get resource2"</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (resource2) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread() + <span class="string">"get resource2"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">"çº¿ç¨‹ 1"</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (resource2) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread() + <span class="string">"get resource2"</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(Thread.currentThread() + <span class="string">"waiting get resource1"</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (resource1) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread() + <span class="string">"get resource1"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">"çº¿ç¨‹ 2"</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Output:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Thread[çº¿ç¨‹ 1,5,main]get resource1</span><br><span class="line">Thread[çº¿ç¨‹ 2,5,main]get resource2</span><br><span class="line">Thread[çº¿ç¨‹ 1,5,main]waiting get resource2</span><br><span class="line">Thread[çº¿ç¨‹ 2,5,main]waiting get resource1</span><br></pre></td></tr></table></figure>

<p>çº¿ç¨‹1ä»¥<code>resource1</code>ä½œä¸ºåŒæ­¥ç›‘è§†å™¨ï¼Œå³å¯ä»¥è½»æ¾è·å–<code>resource1</code>åŒæ—¶ä¹Ÿé”å®šäº†<code>resource1</code>ï¼Œæ­¤æ—¶è°ƒç”¨<code>sleep</code>è®©çº¿ç¨‹1ç­‰å¾…1ç§’é’Ÿï¼›æ­¤æ—¶çº¿ç¨‹2å¼€å§‹æ‰§è¡Œï¼Œä»–ä»¥<code>resource2</code>ä½œä¸ºåŒæ­¥ç›‘è§†å™¨åŒæ—¶ä¹Ÿé”å®šäº†<code>resource2</code>ï¼Œæ­¤æ—¶è°ƒç”¨<code>sleep</code>è®©çº¿ç¨‹2ç­‰å¾…1ç§’é’Ÿï¼›è€Œæ­¤æ—¶çº¿ç¨‹1ç­‰å¾…1ç§’å·²ç»ç»“æŸäº†ï¼Œå½“ä»–æƒ³è¦è·å–<code>resource2</code>æ—¶å‘ç°<code>resource2</code>å·²ç»è¢«çº¿ç¨‹2é”å®šäº†ï¼ŒåŒç†çº¿ç¨‹2ç»“æŸç­‰å¾…åæƒ³è¦è·å–<code>resource1</code>æ—¶å‘ç°<code>resource1</code>å·²ç»è¢«çº¿ç¨‹1é”å®šäº†ã€‚é‚£ä¹ˆä¸¤è€…éƒ½æ— æ³•åŒæ—¶è·å–å¯¹æ–¹çš„çº¿ç¨‹ï¼Œä¾¿è¿›å…¥æ­»é”çŠ¶æ€ã€‚</p>
<p>å› æ­¤äº§ç”Ÿæ­»é”éœ€è¦å…·å¤‡ä»¥ä¸‹å››ä¸ªæ¡ä»¶ï¼š</p>
<ol>
<li>äº’æ–¥æ¡ä»¶ï¼šè¯¥èµ„æºä»»æ„ä¸€ä¸ªæ—¶åˆ»åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹å ç”¨</li>
<li>è¯·æ±‚å’Œä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªçº¿ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å–çš„èµ„æºä¿æŒä¸æ”¾</li>
<li>ä¸å‰¥å¤ºæ¡ä»¶ï¼šçº¿ç¨‹å·²è·å–çš„èµ„æºåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ä¸èƒ½è¢«å…¶ä»–çº¿ç¨‹å¼ºè¡Œå‰¥å¤ºï¼Œåªæœ‰è‡ªå·±ä½¿ç”¨å®Œæ¯•åæ‰ä½¿ç”¨èµ„æº</li>
<li>å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹å‰å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»ã€‚</li>
</ol>
<p>é¿å…æ­»é”å°±è¦ç ´åè¿™å››ä¸ªæ¡ä»¶ä¸­ä»»æ„ä¸€ä¸ªï¼š</p>
<ol>
<li>ç ´åäº’æ–¥æ¡ä»¶ï¼šè¿™ä¸ªæ¡ä»¶æˆ‘ä»¬æ— æ³•ç ´åï¼Œå› ä¸ºæˆ‘ä»¬ç”¨é”çš„ç›®çš„å°±æ˜¯æƒ³è®©ä»–ä»¬äº’æ–¥</li>
<li>ç ´åè¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€æ¬¡æ€§ç”³è¯·æ‰€æœ‰èµ„æº</li>
<li>ç ´åå¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šæŒ‰ç…§ä¸€å®šé¡ºåºç”³è¯·èµ„æºï¼Œé¿å…èµ„æºçš„å¾ªç¯ä½¿ç”¨</li>
</ol>
<p>è§£å†³æ–¹æ¡ˆ: ä¿®æ”¹çº¿ç¨‹2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (resource1) &#123;</span><br><span class="line">        System.out.println(Thread.currentThread() + <span class="string">"get resource1"</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread() + <span class="string">"waiting get resource2"</span>);</span><br><span class="line">        <span class="keyword">synchronized</span> (resource2) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread() + <span class="string">"get resource2"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, <span class="string">"çº¿ç¨‹ 2"</span>).start();</span><br></pre></td></tr></table></figure>

<p>Outout:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Thread[çº¿ç¨‹ 1,5,main]get resource1</span><br><span class="line">Thread[çº¿ç¨‹ 1,5,main]waiting get resource2</span><br><span class="line">Thread[çº¿ç¨‹ 1,5,main]get resource2</span><br><span class="line">Thread[çº¿ç¨‹ 2,5,main]get resource1</span><br><span class="line">Thread[çº¿ç¨‹ 2,5,main]waiting get resource2</span><br><span class="line">Thread[çº¿ç¨‹ 2,5,main]get resource2</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>

<h2 id="è¯´è¯´sleep-æ–¹æ³•å’Œwait-æ–¹æ³•çš„åŒºåˆ«ï¼Ÿ"><a href="#è¯´è¯´sleep-æ–¹æ³•å’Œwait-æ–¹æ³•çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="è¯´è¯´sleep()æ–¹æ³•å’Œwait()æ–¹æ³•çš„åŒºåˆ«ï¼Ÿ"></a>è¯´è¯´sleep()æ–¹æ³•å’Œwait()æ–¹æ³•çš„åŒºåˆ«ï¼Ÿ</h2><p>ä¸¤è€…æœ€ä¸»è¦çš„åŒºåˆ«åœ¨äºï¼š<strong>sleep æ–¹æ³•æ²¡æœ‰é‡Šæ”¾é”ï¼Œè€Œ wait æ–¹æ³•é‡Šæ”¾äº†é”</strong></p>
<ul>
<li>ä¸¤è€…éƒ½å¯ä»¥æš‚åœçº¿ç¨‹çš„æ‰§è¡Œ</li>
<li><code>wait()</code>é€šå¸¸ç”¨äºçº¿ç¨‹é—´äº¤äº’/é€šä¿¡ï¼Œ<code>sleep()</code>é€šå¸¸ç”¨æˆ·æš‚åœæ‰§è¡Œ</li>
<li><code>wait()</code>æ–¹æ³•è¢«è°ƒç”¨åï¼Œçº¿ç¨‹ä¸ä¼šè‡ªåŠ¨è‹é†’ï¼Œéœ€è¦åˆ«çš„çº¿ç¨‹è°ƒç”¨åŒä¸€å¯¹è±¡ä¸Šçš„<code>notify()</code>æˆ–è€…<code>notifyAll()</code>æ–¹æ³•ã€‚<code>sleep()</code>æ–¹æ³•æ‰§è¡Œå®Œæˆåï¼Œçº¿ç¨‹ä¼šè‡ªåŠ¨è‹é†’ã€‚</li>
</ul>
<h2 id="è°ƒç”¨start-æ–¹æ³•ä¼šæ‰§è¡Œrun-æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥è°ƒç”¨run-æ–¹æ³•ï¼Ÿ"><a href="#è°ƒç”¨start-æ–¹æ³•ä¼šæ‰§è¡Œrun-æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥è°ƒç”¨run-æ–¹æ³•ï¼Ÿ" class="headerlink" title="è°ƒç”¨start()æ–¹æ³•ä¼šæ‰§è¡Œrun()æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥è°ƒç”¨run()æ–¹æ³•ï¼Ÿ"></a>è°ƒç”¨start()æ–¹æ³•ä¼šæ‰§è¡Œrun()æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥è°ƒç”¨run()æ–¹æ³•ï¼Ÿ</h2><p><code>new</code>ä¸€ä¸ª<code>Thread</code>ï¼Œçº¿ç¨‹è¿›å…¥äº†æ–°å»ºçŠ¶æ€ï¼›è°ƒç”¨<code>start()</code>æ–¹æ³•ï¼Œä¼šå¯ç”¨ä¸€ä¸ªçº¿ç¨‹å¹¶ä½¿çº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œå½“åˆ†é…åˆ°æ—¶é—´ç‰‡åå°±å¯ä»¥å¼€å§‹æ‰§è¡Œã€‚<code>start()</code>ä¼šæ‰§è¡Œçº¿ç¨‹çš„ç›¸åº”å‡†å¤‡å·¥ä½œï¼Œç„¶åè‡ªåŠ¨æ‰§è¡Œ<code>run()</code>æ–¹æ³•çš„å†…å®¹ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„å¤šçº¿ç¨‹å·¥ä½œã€‚è€Œç›´æ¥æ‰§è¡Œ<code>run()</code>æ–¹æ³•ï¼Œä¼šå§<code>run()</code>æ–¹æ³•å½“åšä¸€ä¸ª<code>main</code>çº¿ç¨‹ä¸‹çš„ä¸€ä¸ªæ™®é€šæ–¹æ³•å»æ‰§è¡Œï¼Œå¹¶ä¸ä¼šåœ¨æŸä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œä»–ã€‚</p>
<p><strong>æ€»ç»“ï¼šè°ƒç”¨<code>start</code>æ–¹æ³•å¯ä»¥å¯åŠ¨çº¿ç¨‹å¹¶ä½¿çº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œè€Œ<code>run()</code>æ–¹æ³•åªæ˜¯<code>Thread</code>çš„ä¸€ä¸ªæ™®é€šæ–¹æ³•è°ƒç”¨ï¼Œè¿˜æ˜¯åœ¨mainä¸»çº¿ç¨‹é‡Œæ‰§è¡Œï¼Œå¹¶ä¸ä¼šåœ¨ä¸€ä¸ªæ–°çº¿ç¨‹ä¸­æ‰§è¡Œ</strong></p>
<h2 id="synchronizedå…³é”®å­—"><a href="#synchronizedå…³é”®å­—" class="headerlink" title="synchronizedå…³é”®å­—"></a>synchronizedå…³é”®å­—</h2><p><code>synchronized</code>å…³é”®å­—è§£å†³å¤šä¸ªçº¿ç¨‹ä¹‹é—´è®¿é—®èµ„æºçš„åŒæ­¥æ€§ï¼Œ<code>synchronized</code>å…³é”®å­—å¯ä»¥ä¿è¯å®ƒä¿®é¥°çš„æ–¹æ³•æˆ–ä»£ç å—åœ¨ä»»æ„æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚</p>
<p><strong>synchronizedå…³é”®å­—æœ€ä¸»è¦çš„ä¸‰ç§ä½¿ç”¨æ–¹å¼</strong>ï¼š</p>
<ul>
<li><strong>ä¿®é¥°å®ä¾‹æ–¹æ³•</strong>ï¼š ç»™å½“å‰å¯¹è±¡åŠ é”ï¼Œè¿›å…¥åŒæ­¥ä»£ç å—å‰è¦è·å–å½“å‰å¯¹è±¡å®ä¾‹çš„é”</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­¤å¤„çš„`synchronized`å°±ç›¸å½“äº`synchronized(this)`ï¼Œé”å®šçš„æ˜¯å½“å‰å¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ä¿®é¥°é™æ€æ–¹æ³•</strong>ï¼š ç»™å½“å‰ç±»åŠ é”ï¼ˆå› ä¸ºé™æ€æ–¹æ³•æ²¡æœ‰<code>this</code>ï¼‰ï¼Œä¼šä½œç”¨äºå½“å‰ç±»çš„æ‰€æœ‰å¯¹è±¡å®ä¾‹ï¼Œå› ä¸ºé™æ€æˆå‘˜ä¸å±äºä»»ä½•ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªç±»æˆå‘˜ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­¤å¤„çš„`synchronized`å°±ç›¸å½“äº`synzhronized(T.class)`ï¼Œ(Tçš„å½“å‰ç±»)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ä¿®é¥°ä»£ç å—</strong>ï¼š æŒ‡å®šåŠ é”å¯¹è±¡ï¼Œå¯¹ç»™å®šå¯¹è±¡åŠ é”ï¼Œè¿›å…¥åŒæ­¥ä»£ç å—ä¹‹å‰è¦è·å–ç»™å®šå¯¹è±¡çš„é”</li>
</ul>
<hr>
<p><strong>å¾…ç»­â€¦</strong></p>
<br>

<h1 id="äº¤æµ"><a href="#äº¤æµ" class="headerlink" title="äº¤æµ"></a>äº¤æµ</h1><p>QQGroupï¼š671017003   </p>
<p>WeChatGroup:  å…³æ³¨å…¬ä¼—å·æŸ¥çœ‹</p>
<h1 id="è”ç³»"><a href="#è”ç³»" class="headerlink" title="è”ç³»"></a>è”ç³»</h1><ul>
<li><a href="http://www.tycoding.cn">Blog@TyCodingâ€™s blog</a></li>
<li><a href="https://github.com/TyCoding" target="_blank" rel="noopener">GitHub@TyCoding</a></li>
<li><a href="https://www.zhihu.com/people/tomo-83-82/activities" target="_blank" rel="noopener">ZhiHu@TyCoding</a></li>
</ul>

      
    </div>

    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/images/qrcode_for_gh.jpg" alt="TyCoding wechat" style="width: 200px; max-width: 100%;">
    <div>æ¬¢è¿å…³æ³¨å…¬ä¼—å·ï¼šç¨‹åºå‘˜æ¶‚é™Œ</div>
</div>

      </div>
    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¸®åŠ©åˆ°äº†ä½ ï¼Œä½ å¯ä»¥å¸®ä½œè€…ä¹°ä¸€æ¯æœæ±è¡¨ç¤ºé¼“åŠ±</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechat.png" alt="TyCoding WeChat Pay">
        <p>WeChat Pay</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.png" alt="TyCoding Alipay">
        <p>Alipay</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/java/" rel="tag"># java</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/06/16/project/boot-chat/" rel="next" title="åŸºäºWebSocketçš„åœ¨çº¿èŠå¤©ç³»ç»Ÿ">
                <i class="fa fa-chevron-left"></i> åŸºäºWebSocketçš„åœ¨çº¿èŠå¤©ç³»ç»Ÿ
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/03/23/feel/" rel="prev" title="Feeling">
                Feeling <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>

  <hr>


    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
    
  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element" style="opacity: 1; display: block; transform: translateX(0px);">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">Contents</li>
          <li class="sidebar-nav-overview" data-target="site-overview">Overview</li>
        </ul>
      

  

      <section class="site-overview sidebar-panel">
        <div class="site-overview">
          <div class="sidebar-sticky sticky">
            <div itemscope itemtype="http://schema.org/Person">
              <div class="author__avatar">
                
                  <img itemprop="image" src="/images/avatar.jpg" alt="TyCoding"> 
                
              </div>
              <div class="author__content">
                <h3 class="author__name" itemprop="name">TyCoding</h3>
                <p class="author__bio" itemprop="description">Life is short, just coding</p>
              </div>
              
                <div class="author__urls-wrapper">
                  <button class="btn btn--inverse">Follow</button>
                  <ul class="author__urls social-icons">
                    
                      <li>
                        <a href="https://github.com/TyCoding" target="_blank" title="GitHub">
                            
                              <i class="fa fa-fw fa-github"></i>&nbsp;&nbsp;GitHub</a>
                      </li>
                    
                      <li>
                        <a href="https://github.com/TyCoding/tumo" target="_blank" title="Tumo">
                            
                              <i class="fa fa-fw fa-link"></i>&nbsp;&nbsp;Tumo</a>
                      </li>
                    
                      <li>
                        <a href="https://github.com/TyCoding/cloud-template" target="_blank" title="SpringCloud">
                            
                              <i class="fa fa-fw fa-cloud"></i>&nbsp;&nbsp;SpringCloud</a>
                      </li>
                    
                      <li>
                        <a href="https://github.com/TyCoding/tumo-next" target="_blank" title="Blog Theme">
                            
                              <i class="fa fa-fw fa-dashboard"></i>&nbsp;&nbsp;Blog Theme</a>
                      </li>
                    
                      <li>
                        <a href="https://tycoding.cn/cdn/music" target="_blank" title="Music">
                            
                              <i class="fa fa-fw fa-music"></i>&nbsp;&nbsp;Music</a>
                      </li>
                    
                      <li>
                        <a href="https://tycoding.cn/cdn/love" target="_blank" title="Love">
                            
                              <i class="fa fa-fw fa-heart"></i>&nbsp;&nbsp;Love</a>
                      </li>
                    

                    
                      <li class="menu-item menu-item-search">
                        
                          <a href="javascript:;" class="popup-trigger">
                          <i class="fa fa-fw fa-search"></i>&nbsp;&nbsp;
                        
                          
                          
                          Search
                        </a>
                      </li>
                    

                    
                      <div class="site-search">
                        
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



                      </div>
                    

                  </ul>
                </div>
              
            </div>
          </div>
        </div>
      </section>



      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#JavaåŸºç¡€"><span class="nav-number">1.</span> <span class="nav-text">JavaåŸºç¡€</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#JDKå’ŒJREåŒºåˆ«ï¼Ÿ"><span class="nav-number">1.1.</span> <span class="nav-text">JDKå’ŒJREåŒºåˆ«ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å’Œ-equals-åŒºåˆ«"><span class="nav-number">1.2.</span> <span class="nav-text">== å’Œ equals åŒºåˆ«</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¸¤ä¸ªå¯¹è±¡çš„hashCode-ç›¸åŒï¼Œåˆ™equals-ä¸€å®šä¸ºtrueï¼Ÿ"><span class="nav-number">1.3.</span> <span class="nav-text">ä¸¤ä¸ªå¯¹è±¡çš„hashCode()ç›¸åŒï¼Œåˆ™equals()ä¸€å®šä¸ºtrueï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#final-çš„ä½œç”¨"><span class="nav-number">1.4.</span> <span class="nav-text">final çš„ä½œç”¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Stringå±äºåŸºæœ¬æ•°æ®ç±»å‹å—ï¼Ÿ"><span class="nav-number">1.5.</span> <span class="nav-text">Stringå±äºåŸºæœ¬æ•°æ®ç±»å‹å—ï¼Ÿ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Stringå’ŒStringBufferå’ŒStringBuilderçš„åŒºåˆ«"><span class="nav-number">1.5.1.</span> <span class="nav-text">Stringå’ŒStringBufferå’ŒStringBuilderçš„åŒºåˆ«</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#staticå…³é”®å­—ï¼Ÿæ˜¯å¦å¯è¦†ç›–ï¼Ÿ"><span class="nav-number">1.6.</span> <span class="nav-text">staticå…³é”®å­—ï¼Ÿæ˜¯å¦å¯è¦†ç›–ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è‡ªåŠ¨æ‹†ã€è£…ç®±"><span class="nav-number">1.7.</span> <span class="nav-text">è‡ªåŠ¨æ‹†ã€è£…ç®±</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Overridingå’ŒOverloaded"><span class="nav-number">1.8.</span> <span class="nav-text">Overridingå’ŒOverloaded</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Javaæ”¯æŒå¤šç»§æ‰¿å—ï¼Ÿ"><span class="nav-number">1.9.</span> <span class="nav-text">Javaæ”¯æŒå¤šç»§æ‰¿å—ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«ï¼Ÿ"><span class="nav-number">1.10.</span> <span class="nav-text">æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¼•ç”¨ä¼ é€’å’Œå€¼ä¼ é€’"><span class="nav-number">1.11.</span> <span class="nav-text">å¼•ç”¨ä¼ é€’å’Œå€¼ä¼ é€’</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IOæµ"><span class="nav-number">1.12.</span> <span class="nav-text">IOæµ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Javaä¸­æœ‰å‡ ç§ç±»å‹çš„æµï¼Ÿ"><span class="nav-number">1.12.1.</span> <span class="nav-text">Javaä¸­æœ‰å‡ ç§ç±»å‹çš„æµï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è°ˆè°ˆJava-IOä¸­çš„æ–¹æ³•é˜»å¡"><span class="nav-number">1.12.2.</span> <span class="nav-text">è°ˆè°ˆJava IOä¸­çš„æ–¹æ³•é˜»å¡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å­—ç¬¦æµå’Œå­—èŠ‚æµçš„åŒºåˆ«ï¼Ÿ"><span class="nav-number">1.12.3.</span> <span class="nav-text">å­—ç¬¦æµå’Œå­—èŠ‚æµçš„åŒºåˆ«ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NIO"><span class="nav-number">1.12.4.</span> <span class="nav-text">NIO</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è¯´è¯´Listã€Setã€Mapä¸‰è€…çš„åŒºåˆ«"><span class="nav-number">1.13.</span> <span class="nav-text">è¯´è¯´Listã€Setã€Mapä¸‰è€…çš„åŒºåˆ«</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Arrayå’ŒArrayListæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><span class="nav-number">1.14.</span> <span class="nav-text">Arrayå’ŒArrayListæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼Ÿ"><span class="nav-number">1.15.</span> <span class="nav-text">ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼Ÿ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»€ä¹ˆæ˜¯è¿­ä»£å™¨"><span class="nav-number">1.15.1.</span> <span class="nav-text">ä»€ä¹ˆæ˜¯è¿­ä»£å™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Iteratorå’ŒListIteratorçš„åŒºåˆ«ï¼Ÿ"><span class="nav-number">1.15.2.</span> <span class="nav-text">Iteratorå’ŒListIteratorçš„åŒºåˆ«ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RandomAccessæ¥å£"><span class="nav-number">1.15.3.</span> <span class="nav-text">RandomAccessæ¥å£</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é“¾è¡¨"><span class="nav-number">1.15.4.</span> <span class="nav-text">é“¾è¡¨</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ArrayListå’ŒVectorå’ŒLinkedListçš„åŒºåˆ«ï¼Ÿ"><span class="nav-number">1.16.</span> <span class="nav-text">ArrayListå’ŒVectorå’ŒLinkedListçš„åŒºåˆ«ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è°ˆè°ˆArrayListçš„æ‰©å®¹æœºåˆ¶"><span class="nav-number">1.17.</span> <span class="nav-text">è°ˆè°ˆArrayListçš„æ‰©å®¹æœºåˆ¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HashMapå’ŒHashTableçš„åŒºåˆ«ï¼Ÿ"><span class="nav-number">1.18.</span> <span class="nav-text">HashMapå’ŒHashTableçš„åŒºåˆ«ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HashMapå’ŒHashSetåŒºåˆ«"><span class="nav-number">1.19.</span> <span class="nav-text">HashMapå’ŒHashSetåŒºåˆ«?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HashSetå¦‚ä½•æ£€æŸ¥é‡å¤ï¼Ÿ"><span class="nav-number">1.20.</span> <span class="nav-text">HashSetå¦‚ä½•æ£€æŸ¥é‡å¤ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HashMapåº•å±‚å®ç°ï¼Ÿ"><span class="nav-number">1.21.</span> <span class="nav-text">HashMapåº•å±‚å®ç°ï¼Ÿ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Hash"><span class="nav-number">1.21.1.</span> <span class="nav-text">Hash</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hashå†²çª"><span class="nav-number">1.21.2.</span> <span class="nav-text">Hashå†²çª</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®ç°åŸç†"><span class="nav-number">1.21.3.</span> <span class="nav-text">å®ç°åŸç†</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Collectionå’ŒCollectionsçš„åŒºåˆ«ï¼Ÿ"><span class="nav-number">1.22.</span> <span class="nav-text">Collectionå’ŒCollectionsçš„åŒºåˆ«ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Comparableå’ŒComparatorçš„åŒºåˆ«ï¼Ÿ"><span class="nav-number">1.23.</span> <span class="nav-text">Comparableå’ŒComparatorçš„åŒºåˆ«ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Javaé›†åˆæ¡†æ¶æ€»ç»“"><span class="nav-number">1.24.</span> <span class="nav-text">Javaé›†åˆæ¡†æ¶æ€»ç»“</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Collection"><span class="nav-number">1.24.1.</span> <span class="nav-text">Collection</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#List"><span class="nav-number">1.24.1.1.</span> <span class="nav-text">List</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Set"><span class="nav-number">1.24.1.2.</span> <span class="nav-text">Set</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Map"><span class="nav-number">1.24.2.</span> <span class="nav-text">Map</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Javaå¹¶å‘"><span class="nav-number">2.</span> <span class="nav-text">Javaå¹¶å‘</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ"><span class="nav-number">2.1.</span> <span class="nav-text">çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä»JVMè§’åº¦åˆ†æè¿›ç¨‹å’Œçº¿ç¨‹çš„å…³ç³»ï¼Ÿ"><span class="nav-number">2.2.</span> <span class="nav-text">ä»JVMè§’åº¦åˆ†æè¿›ç¨‹å’Œçº¿ç¨‹çš„å…³ç³»ï¼Ÿ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸ºä»€ä¹ˆæ–¹æ³•åŒºå’Œå †æ˜¯çº¿ç¨‹å…±äº«åŒºï¼Ÿ"><span class="nav-number">2.2.1.</span> <span class="nav-text">ä¸ºä»€ä¹ˆæ–¹æ³•åŒºå’Œå †æ˜¯çº¿ç¨‹å…±äº«åŒºï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸ºä»€ä¹ˆè™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæ˜¯çº¿ç¨‹ç‹¬å åŒºï¼Ÿ"><span class="nav-number">2.2.2.</span> <span class="nav-text">ä¸ºä»€ä¹ˆè™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæ˜¯çº¿ç¨‹ç‹¬å åŒºï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç¨‹åºè®¡æ•°å™¨æ˜¯ä»€ä¹ˆï¼Ÿ"><span class="nav-number">2.2.3.</span> <span class="nav-text">ç¨‹åºè®¡æ•°å™¨æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è¯´è¯´å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«ï¼Ÿ"><span class="nav-number">2.3.</span> <span class="nav-text">è¯´è¯´å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä½¿ç”¨å¤šçº¿ç¨‹å¯èƒ½å¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><span class="nav-number">2.4.</span> <span class="nav-text">ä½¿ç”¨å¤šçº¿ç¨‹å¯èƒ½å¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è¯´è¯´çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€ï¼Ÿ"><span class="nav-number">2.5.</span> <span class="nav-text">è¯´è¯´çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Ÿ"><span class="nav-number">2.6.</span> <span class="nav-text">ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä»€ä¹ˆæ˜¯æ­»é”ï¼Ÿå¦‚ä½•é¿å…"><span class="nav-number">2.7.</span> <span class="nav-text">ä»€ä¹ˆæ˜¯æ­»é”ï¼Ÿå¦‚ä½•é¿å…?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è¯´è¯´sleep-æ–¹æ³•å’Œwait-æ–¹æ³•çš„åŒºåˆ«ï¼Ÿ"><span class="nav-number">2.8.</span> <span class="nav-text">è¯´è¯´sleep()æ–¹æ³•å’Œwait()æ–¹æ³•çš„åŒºåˆ«ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è°ƒç”¨start-æ–¹æ³•ä¼šæ‰§è¡Œrun-æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥è°ƒç”¨run-æ–¹æ³•ï¼Ÿ"><span class="nav-number">2.9.</span> <span class="nav-text">è°ƒç”¨start()æ–¹æ³•ä¼šæ‰§è¡Œrun()æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥è°ƒç”¨run()æ–¹æ³•ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#synchronizedå…³é”®å­—"><span class="nav-number">2.10.</span> <span class="nav-text">synchronizedå…³é”®å­—</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#äº¤æµ"><span class="nav-number">3.</span> <span class="nav-text">äº¤æµ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#è”ç³»"><span class="nav-number">4.</span> <span class="nav-text">è”ç³»</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <a href="http://www.beian.miit.gov.cn/" target="_blank">è±«ICPå¤‡18015694å·</a>
<br>
<div class="copyright" style="display: inline-block">&copy; 2017 &mdash; <span itemprop="copyrightYear">2020</span>
  <span class="author" itemprop="copyrightHolder">TyCoding</span>

  
  &nbsp;&nbsp; | &nbsp;&nbsp;
</div>

        
<div class="busuanzi-count" style="display: inline-block">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      UV
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      PV
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    <div class="back-to-top">
      <span style="font-family:'Source Sans Pro','Helvetica Neue',Arial,sans-serif;font-size:1.2em;font-weight:600">TOP</span>
    </div>

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'RfrXFjpg2cghYo3z7dypcSdy-gzGzoHsz',
        appKey: 'JwNt0o6aEvm6WsQ78LGWFz06',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  


  <script type="text/javascript" src="/js/src/mo.min.js"></script>
  <script>$(function(){$("a").not(".nav-link,.cloud-tie-join-count,.ignore-href,.jstree-anchor").addClass("animsition-link")});var burst1=new mojs.Burst({left:0,top:0,radius:{5:40},children:{shape:"circle",fill:["red","cyan","orange"],fillOpacity:.8,radiusX:3.5,radiusY:3.5}});document.addEventListener("click",function(a){null==a.target.href&&"footer"!=a.target.className&&"copyright"!=a.target.className&&"author__urls social-icons"!=a.target.className&&"author__avatar"!=a.target.className&&"sidebar sidebar-active"!=a.target.className&&burst1.tune({x:a.pageX,y:a.pageY}).generate().replay()})</script>
  <div data-name="mojs-shape"></div>
</body>
</html>
